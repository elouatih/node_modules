{"ast":null,"code":"import _regeneratorRuntime from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Button,TextField}from'@material-ui/core';import Select from'@material-ui/core/Select';import FormControl from'@material-ui/core/FormControl';import InputLabel from'@material-ui/core/InputLabel';import MenuItem from'@material-ui/core/MenuItem';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import{socket}from'../socket.js';import Typography from'@material-ui/core/Typography';import AnimatorLoader from'../Game/animator/AnimatorLoader.js';import PlayerContext from'./player-context';import{setPlayerClass,getSubBassin}from'../Game/map/MapUtil.js';import MenuContext from'./menu-context';import Game from'../Game/Game.js';import Updating from\"../Interface/Updating/Updating\";import warningText from'../Game/controls/warningText.js';import Header from\"../Interface/Header/Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Menu(){var playerCtx=useContext(PlayerContext);var MenuCtx=useContext(MenuContext);var marg={marginRight:5};var handleName=function handleName(event){playerCtx.updateName(event.target.value);};var handleChange=function handleChange(event){playerCtx.updateRole(event.target.value);};var handleRoomName=function handleRoomName(event){var fRoom=event.target.value.toLowerCase();playerCtx.updateRoom(fRoom);};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),playerList=_useState4[0],setPlayerList=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),warningMessage=_useState6[0],setWarningMessage=_useState6[1];socket.on(\"playersUpdate\",function(resp){setPlayerList(resp);});var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),playerGameStarted=_useState8[0],setPlayerGameStarted=_useState8[1];socket.on(\"mapReady\",function(){setPlayerGameStarted(true);});socket.on(\"start\",function(){MenuCtx.updateLocation(\"started\");});function handleCreate(){return _handleCreate.apply(this,arguments);}function _handleCreate(){_handleCreate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var room;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(playerCtx.name===\"\"||playerCtx.role===\"\")){_context.next=4;break;}setWarningMessage(\"Veuillez remplir les champs\");_context.next=10;break;case 4:console.log(playerCtx.role);_context.next=7;return new Promise(function(resolve){socket.emit(\"createRoom\",playerCtx.name,playerCtx.role,function(response){resolve(response);});});case 7:room=_context.sent;playerCtx.updateRoom(room);MenuCtx.updateLocation(\"lobbyCreated\");case 10:case\"end\":return _context.stop();}}},_callee);}));return _handleCreate.apply(this,arguments);}function handleJoin(){return _handleJoin.apply(this,arguments);}function _handleJoin(){_handleJoin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var room;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(playerCtx===\"\"||playerCtx.name===\"\"||playerCtx.role===\"\")){_context2.next=4;break;}setWarningMessage(\"Veuillez remplir les champs\");_context2.next=8;break;case 4:_context2.next=6;return new Promise(function(resolve){socket.emit(\"joinRoom\",playerCtx.room,playerCtx.name,playerCtx.role,function(response){resolve(response);});});case 6:room=_context2.sent;if(room===\"Code de lobby incorrect\"){setWarningMessage(room);}else{playerCtx.updateRoom(room);MenuCtx.updateLocation(\"lobbyJoined\");}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _handleJoin.apply(this,arguments);}function handleStart(){setLoading(true);socket.emit(\"startGame\");}function getNewPlayerList(){return _getNewPlayerList.apply(this,arguments);}function _getNewPlayerList(){_getNewPlayerList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var newLst;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return new Promise(function(resolve){socket.emit(\"playersFromRoom\",playerCtx.room,function(resp){resolve(resp);});});case 2:newLst=_context3.sent;if(newLst===\"Partie inexistante\"){setWarningMessage(newLst);}else{setPlayerList(newLst);}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _getNewPlayerList.apply(this,arguments);}function handleReconnectChange(_x){return _handleReconnectChange.apply(this,arguments);}function _handleReconnectChange(){_handleReconnectChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event){var lngth,pName,pRole;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:lngth=event.target.value.length;pName=event.target.value.substring(0,lngth-1);pRole=event.target.value.substring(lngth-1);playerCtx.updateName(pName);playerCtx.updateRole(pRole);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return _handleReconnectChange.apply(this,arguments);}function handleReconnect(){return _handleReconnect.apply(this,arguments);}function _handleReconnect(){_handleReconnect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(playerCtx.room===\"\"||playerCtx.name===\"\"){setWarningMessage(\"Veuillez remplir les champs\");}else{socket.emit(\"reconnect\",playerCtx.room,playerCtx.name,function(){MenuCtx.updateLocation(\"started\");socket.emit(\"getTurn\",function(response){if(response>-1)setPlayerGameStarted(true);});});}case 1:case\"end\":return _context5.stop();}}},_callee5);}));return _handleReconnect.apply(this,arguments);}function CreateForm(){playerCtx.updateRole(3);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TextField,{label:\"Pseudo\",value:playerCtx.name,onChange:handleName},\"name\"),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleCreate,children:\"Cr\\xE9er\"}),warningText(warningMessage),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",style:marg,onClick:function onClick(){MenuCtx.updateLocation(\"menu\");},children:\"Menu\"})]});}function JoinForm(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TextField,{label:\"Code Partie\",value:playerCtx.room,onChange:handleRoomName},\"roomName\"),/*#__PURE__*/_jsx(TextField,{label:\"Pseudo\",value:playerCtx.name,onChange:handleName},\"nameJoin\"),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(InputLabel,{id:\"role-label\",children:\"Role\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"role-label\",id:\"role\",value:playerCtx.role,onChange:handleChange,children:[/*#__PURE__*/_jsx(MenuItem,{value:1,children:\"Agriculteur\"},1),/*#__PURE__*/_jsx(MenuItem,{value:0,children:\"Elu\"},0),/*#__PURE__*/_jsx(MenuItem,{value:2,children:\"Gestionnaire de Bassin\"},2)]})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleJoin,children:\"Rejoindre la partie\"}),warningText(warningMessage),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",style:marg,onClick:function onClick(){MenuCtx.updateLocation(\"menu\");},children:\"Menu\"})]});}function roleToString(role){if(role===1)return\"agriculteur\";if(role===3)return\"animateur\";if(role===2)return\"gestionnaire\";if(role===0)return\"elu\";return\"\";}function displayNumBassin(id){if(id===0||id>9)return\"\";return\"\".concat(getSubBassin(id),\" bassin\");}function LobbyCreated(){var bassin=\"\";return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",children:playerCtx.room}),/*#__PURE__*/_jsx(List,{children:playerList.map(function(item){return/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"\".concat(item.Name,\" \").concat(roleToString(item.Role),\" \").concat(item.Id,\" \").concat(displayNumBassin(item.Id))})},item.Id);})}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleStart,children:\"Commencer la partie\"}),loading&&/*#__PURE__*/_jsx(Typography,{children:\"Chargement...\"})]});}function PlayersWaitingLobby(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Typography,{children:\"L'animateur est en train de pr\\xE9parer la carte. Veuillez patienter\"})});}function LobbyJoined(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",children:playerCtx.room}),/*#__PURE__*/_jsx(List,{children:playerList.map(function(item){return/*#__PURE__*/_jsxs(ListItem,{children:[console.log(item),/*#__PURE__*/_jsx(ListItemText,{primary:item.Name})]},item.Id);})})]});}function GameStarted(){{console.log(\"Context ROLE IS : \"+playerCtx.role+\" and NAME : \"+playerCtx.name);};return/*#__PURE__*/_jsx(\"div\",{children:playerCtx.role>2?/*#__PURE__*/_jsx(AnimatorLoader,{name:playerCtx.name,room:playerCtx.room}):playerGameStarted?/*#__PURE__*/_jsx(Game,{name:playerCtx.name,role:playerCtx.role,room:playerCtx.room}):/*#__PURE__*/_jsx(\"div\",{className:\"App-header\",children:PlayersWaitingLobby()})});}/*function GameStarted() {\n        {console.log(\"Context Player = \" + playerCtx)};\n\n        return (\n            <div>\n                {playerCtx.role > 2 ? <AnimatorLoader name={playerCtx.name} room={playerCtx.room} /> :\n                    playerGameStarted ? <div>\n                                            <Header role={playerCtx.role} pseudo={playerCtx.name} bassin={getSubBassin(playerCtx)} />\n                                            <Updating role={playerCtx.role} ut={23} oldUt={34} ub={2} oldUb={12} formations={[1, 1, 0, 1]}/>\n                                        </div>:\n                        <div className=\"App-header\">{PlayersWaitingLobby()}</div>}\n            </div>\n        )\n    }*/function RejoinGame(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(TextField,{label:\"Code Partie\",value:playerCtx.room,onChange:handleRoomName},\"roomRejoin\")}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:getNewPlayerList,children:\"Chercher les joueurs\"})}),/*#__PURE__*/_jsx(InputLabel,{id:\"nameLabel\",children:\"Votre nom dans la partie\"}),/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsx(Select,{labelId:\"nameLabel\",id:\"playerSelect\",value:playerCtx.name+playerCtx.role,onChange:handleReconnectChange,children:playerList.map(function(item){return/*#__PURE__*/_jsx(MenuItem,{value:item.Name+item.Role,children:item.Name+\" (role : \"+item.Role+\")\"});})})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleReconnect,children:\"Rejoindre\"})}),warningText(warningMessage)]});}function MainMenu(){playerCtx.updateRole(\"\");console.log(\"INITIAL PLAYER ROLE = \"+playerCtx);console.log(\"INITIAL MENU CTX = \"+playerCtx);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:function onClick(){MenuCtx.updateLocation(\"create\");},children:\"Creer la partie\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:function onClick(){MenuCtx.updateLocation(\"join\");},children:\"Rejoindre la partie\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:function onClick(){MenuCtx.updateLocation(\"reconnect\");},children:\"Reconnexion a la partie en cours\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:function onClick(){window.location=\"/tutorial\";},children:\"Tutoriels\"})]});}return/*#__PURE__*/_jsx(_Fragment,{children:MenuCtx.loc===\"started\"?GameStarted():/*#__PURE__*/_jsxs(\"div\",{className:\"App-header\",children:[MenuCtx.loc===\"menu\"&&MainMenu(),MenuCtx.loc===\"create\"&&CreateForm(),MenuCtx.loc===\"join\"&&JoinForm(),MenuCtx.loc===\"lobbyCreated\"&&LobbyCreated(),MenuCtx.loc===\"reconnect\"&&RejoinGame(),MenuCtx.loc===\"lobbyJoined\"&&LobbyJoined()]})});}export default Menu;/* réseau zone atelier employeur\neredejeu prestataire des zone atelier\nozcar tereno strasbourg\n*/","map":{"version":3,"sources":["/home/elouati/Bureau/projet_working/client/src/Menu/Menu.js"],"names":["React","useState","useContext","Button","TextField","Select","FormControl","InputLabel","MenuItem","List","ListItem","ListItemText","socket","Typography","AnimatorLoader","PlayerContext","setPlayerClass","getSubBassin","MenuContext","Game","Updating","warningText","Header","Menu","playerCtx","MenuCtx","marg","marginRight","handleName","event","updateName","target","value","handleChange","updateRole","handleRoomName","fRoom","toLowerCase","updateRoom","loading","setLoading","playerList","setPlayerList","warningMessage","setWarningMessage","on","resp","playerGameStarted","setPlayerGameStarted","updateLocation","handleCreate","name","role","console","log","Promise","resolve","emit","response","room","handleJoin","handleStart","getNewPlayerList","newLst","handleReconnectChange","lngth","length","pName","substring","pRole","handleReconnect","CreateForm","JoinForm","roleToString","displayNumBassin","id","LobbyCreated","bassin","map","item","Name","Role","Id","PlayersWaitingLobby","LobbyJoined","GameStarted","RejoinGame","MainMenu","window","location","loc"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { Button, TextField } from '@material-ui/core';\nimport Select from '@material-ui/core/Select';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport { socket } from '../socket.js';\nimport Typography from '@material-ui/core/Typography';\nimport AnimatorLoader from '../Game/animator/AnimatorLoader.js'\nimport PlayerContext from './player-context';\nimport { setPlayerClass, getSubBassin } from '../Game/map/MapUtil.js';\nimport MenuContext from './menu-context';\n\nimport Game from '../Game/Game.js';\nimport Updating from \"../Interface/Updating/Updating\";\nimport warningText from '../Game/controls/warningText.js';\nimport Header from \"../Interface/Header/Header\";\n\n\n\nfunction Menu() {\n    const playerCtx = useContext(PlayerContext);\n    const MenuCtx = useContext(MenuContext);\n\n\n    const marg = {\n        marginRight: 5\n    }\n\n\n\n    const handleName = (event) => {\n        playerCtx.updateName(event.target.value);\n    }\n\n    const handleChange = (event) => {\n        playerCtx.updateRole(event.target.value);\n    };\n\n    const handleRoomName = (event) => {\n        const fRoom = event.target.value.toLowerCase();\n        playerCtx.updateRoom(fRoom);\n    }\n\n    const [loading, setLoading] = useState(false)\n\n    const [playerList, setPlayerList] = useState([]);\n    const [warningMessage, setWarningMessage] = useState(\"\");\n    socket.on(\"playersUpdate\", (resp) => {\n        setPlayerList(resp);\n    });\n\n    const [playerGameStarted, setPlayerGameStarted] = useState(false);\n\n    socket.on(\"mapReady\", () => {\n        setPlayerGameStarted(true)\n    })\n    socket.on(\"start\", () => {\n        MenuCtx.updateLocation(\"started\");\n    });\n\n    async function handleCreate() {\n        if (playerCtx.name === \"\" || playerCtx.role === \"\") {\n            setWarningMessage(\"Veuillez remplir les champs\")\n        }\n        else {\n            console.log(playerCtx.role)\n\n            const room = await new Promise(resolve => {\n                socket.emit(\"createRoom\", playerCtx.name, playerCtx.role, (response) => {\n                    resolve(response);\n                });\n            });\n            playerCtx.updateRoom(room);\n            MenuCtx.updateLocation(\"lobbyCreated\");\n        }\n\n\n    }\n\n    async function handleJoin() {\n        if (playerCtx === \"\" || playerCtx.name === \"\" || playerCtx.role === \"\") {\n            setWarningMessage(\"Veuillez remplir les champs\")\n        }\n        else {\n\n\n            const room = await new Promise(resolve => {\n                socket.emit(\"joinRoom\", playerCtx.room, playerCtx.name, playerCtx.role, (response) => {\n                    resolve(response);\n                });\n            });\n            if (room === \"Code de lobby incorrect\") {\n                setWarningMessage(room);\n            }\n            else {\n                playerCtx.updateRoom(room);\n                MenuCtx.updateLocation(\"lobbyJoined\");\n            }\n        }\n    }\n\n    function handleStart() {\n        setLoading(true)\n        socket.emit(\"startGame\");\n    }\n\n    async function getNewPlayerList() {\n        const newLst = await new Promise(resolve => {\n            socket.emit(\"playersFromRoom\", playerCtx.room, (resp) => {\n                resolve(resp);\n            })\n        });\n        if (newLst === \"Partie inexistante\") {\n            setWarningMessage(newLst);\n        }\n        else {\n            setPlayerList(newLst);\n        }\n    }\n\n    async function handleReconnectChange(event) {\n        const lngth = event.target.value.length;\n        const pName = event.target.value.substring(0, lngth - 1);\n        const pRole = event.target.value.substring(lngth - 1);\n        playerCtx.updateName(pName);\n        playerCtx.updateRole(pRole);\n\n    }\n\n    async function handleReconnect() {\n        if (playerCtx.room === \"\" || playerCtx.name === \"\") {\n            setWarningMessage(\"Veuillez remplir les champs\")\n        } else {\n            socket.emit(\"reconnect\", playerCtx.room, playerCtx.name, () => {\n                MenuCtx.updateLocation(\"started\")\n                socket.emit(\"getTurn\", (response) => {\n                    if (response > -1) setPlayerGameStarted(true)\n\n                })\n            });\n        }\n    }\n\n\n\n    function CreateForm() {\n        playerCtx.updateRole(3)\n        return (\n            <div>\n                <TextField key=\"name\" label=\"Pseudo\" value={playerCtx.name} onChange={handleName}></TextField>\n                {/*                 <FormControl>\n                    <InputLabel id=\"role-label\">Role</InputLabel>\n                    <Select\n                        labelId=\"role-label\"\n                        id=\"role\"\n                        value={playerCtx.role}\n                        onChange={handleChange}\n                    >\n                        <MenuItem value={1}>Agriculteur</MenuItem>\n                        <MenuItem value={2}>Elu</MenuItem>\n                        <MenuItem value={3}>Animateur</MenuItem>\n                    </Select>\n                </FormControl> */}\n                <Button variant=\"contained\" color=\"primary\" onClick={handleCreate}>Créer</Button>\n                {warningText(warningMessage)}\n                <Button variant=\"contained\" color=\"primary\" style={marg} onClick={() => { MenuCtx.updateLocation(\"menu\") }}>Menu</Button>\n\n            </div>\n        )\n    }\n\n    function JoinForm() {\n        return (\n            <div>\n                <TextField key=\"roomName\" label=\"Code Partie\" value={playerCtx.room} onChange={handleRoomName}></TextField>\n                <TextField key=\"nameJoin\" label=\"Pseudo\" value={playerCtx.name} onChange={handleName}/>\n                <FormControl>\n                    <InputLabel id=\"role-label\">Role</InputLabel>\n                    <Select\n                        labelId=\"role-label\"\n                        id=\"role\"\n                        value={playerCtx.role}\n                        onChange={handleChange}\n                    >\n                        <MenuItem key={1} value={1}>Agriculteur</MenuItem>\n                        <MenuItem key={0} value={0}>Elu</MenuItem>\n                        <MenuItem key={2} value={2}>Gestionnaire de Bassin</MenuItem>\n                    </Select>\n                </FormControl>\n                <Button variant=\"contained\" color=\"primary\" onClick={handleJoin}>Rejoindre la partie</Button>\n                {warningText(warningMessage)}\n\n                <Button variant=\"contained\" color=\"primary\" style={marg} onClick={() => { MenuCtx.updateLocation(\"menu\") }}>Menu</Button>\n\n            </div>\n        )\n    }\n\n    function roleToString(role) {\n        if (role === 1) return \"agriculteur\"\n        if (role === 3) return \"animateur\"\n        if (role === 2) return \"gestionnaire\"\n        if (role === 0) return \"elu\"\n        return \"\"\n    }\n    function displayNumBassin(id) {\n        if (id === 0 || id > 9) return \"\"\n        return `${getSubBassin(id)} bassin`\n    }\n    function LobbyCreated() {\n        let bassin = \"\"\n        return (\n            <div>\n                <Typography variant=\"h3\">\n                    {playerCtx.room}\n                </Typography>\n                <List>\n                    {playerList.map(item => (\n                        <ListItem\n                            key={item.Id}\n                        >\n                            <ListItemText primary={`${item.Name} ${roleToString(item.Role)} ${item.Id} ${displayNumBassin(item.Id)}`} />\n                        </ListItem>\n                    ))}\n                </List>\n                <Button variant=\"contained\" color=\"primary\" onClick={handleStart} >Commencer la partie</Button>\n                {loading && <Typography>Chargement...</Typography>}\n            </div>\n        );\n    }\n    function PlayersWaitingLobby() {\n        return (\n            <div>\n                <Typography>\n                    L'animateur est en train de préparer la carte. Veuillez patienter\n                </Typography>\n            </div>\n        )\n    }\n    function LobbyJoined() {\n        return (\n            <div>\n                <Typography variant=\"h3\">\n                    {playerCtx.room}\n                </Typography>\n                <List>\n                    {playerList.map(item => (\n                        <ListItem\n                            key={item.Id}\n                        >\n                            {console.log(item)}\n                            <ListItemText primary={item.Name} />\n                        </ListItem>\n                    ))}\n                </List>\n            </div>\n        );\n    }\n\n    function GameStarted() {\n        {console.log(\"Context ROLE IS : \"+playerCtx.role+\" and NAME : \" + playerCtx.name)};\n        return (\n            <div>\n                {playerCtx.role > 2 ? <AnimatorLoader name={playerCtx.name} room={playerCtx.room} /> :\n                    playerGameStarted ? <Game name={playerCtx.name} role={playerCtx.role} room={playerCtx.room} /> :\n                        <div className=\"App-header\">{PlayersWaitingLobby()}</div>}\n            </div>\n        )\n    }\n\n    /*function GameStarted() {\n        {console.log(\"Context Player = \" + playerCtx)};\n\n        return (\n            <div>\n                {playerCtx.role > 2 ? <AnimatorLoader name={playerCtx.name} room={playerCtx.room} /> :\n                    playerGameStarted ? <div>\n                                            <Header role={playerCtx.role} pseudo={playerCtx.name} bassin={getSubBassin(playerCtx)} />\n                                            <Updating role={playerCtx.role} ut={23} oldUt={34} ub={2} oldUb={12} formations={[1, 1, 0, 1]}/>\n                                        </div>:\n                        <div className=\"App-header\">{PlayersWaitingLobby()}</div>}\n            </div>\n        )\n    }*/\n\n    function RejoinGame() {\n        return (\n            <div>\n                <p>\n                    <TextField key=\"roomRejoin\" label=\"Code Partie\" value={playerCtx.room} onChange={handleRoomName}/>\n                </p>\n                <p>\n                    <Button variant=\"contained\" color=\"primary\" onClick={getNewPlayerList}>Chercher les joueurs</Button>\n                </p>\n                <InputLabel id=\"nameLabel\">Votre nom dans la partie</InputLabel>\n                <FormControl>\n\n                    <Select\n                        labelId=\"nameLabel\"\n                        id=\"playerSelect\"\n                        value={playerCtx.name + playerCtx.role}\n                        onChange={handleReconnectChange}\n                    >\n                        {playerList.map(item => (\n                            <MenuItem value={item.Name + item.Role}>{item.Name + ` (role : ` + item.Role + `)`}</MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n                <p>\n                    <Button variant=\"contained\" color=\"primary\" onClick={handleReconnect}>Rejoindre</Button>\n                </p>\n                {warningText(warningMessage)}\n\n            </div>\n        )\n    }\n\n\n    function MainMenu() {\n        playerCtx.updateRole(\"\")\n        console.log(\"INITIAL PLAYER ROLE = \" + playerCtx);\n        console.log(\"INITIAL MENU CTX = \" + playerCtx);\n        return (\n            <div>\n                <Button variant=\"contained\" color=\"primary\" onClick={() => { MenuCtx.updateLocation(\"create\") }}>Creer la partie</Button>\n                <Button variant=\"contained\" color=\"primary\" onClick={() => { MenuCtx.updateLocation(\"join\") }}>Rejoindre la partie</Button>\n                <Button variant=\"contained\" color=\"primary\" onClick={() => { MenuCtx.updateLocation(\"reconnect\") }}>Reconnexion a la partie en cours</Button>\n                <Button variant=\"contained\" color=\"primary\" onClick={() => { window.location = \"/tutorial\" }}>Tutoriels</Button>\n\n            </div>\n        );\n    }\n\n    return (\n        <>\n\n            {\n                MenuCtx.loc === \"started\" ? GameStarted() :\n                    <div className=\"App-header\">\n                        {MenuCtx.loc === \"menu\" && MainMenu()}\n\n                        {MenuCtx.loc === \"create\" && CreateForm()}\n\n                        {MenuCtx.loc === \"join\" && JoinForm()}\n\n                        {MenuCtx.loc === \"lobbyCreated\" && LobbyCreated()}\n\n                        {MenuCtx.loc === \"reconnect\" && RejoinGame()}\n\n                        {MenuCtx.loc === \"lobbyJoined\" && LobbyJoined()}\n\n\n                    </div>\n            }\n        </>\n    )\n\n}\n\nexport default Menu;\n\n/* réseau zone atelier employeur\neredejeu prestataire des zone atelier\nozcar tereno strasbourg\n*/"]},"metadata":{},"sourceType":"module"}