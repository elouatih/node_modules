{"ast":null,"code":"/* \n    Function : handleClickTile\n\n    Syntax  : handleClickTile(h)\n        \n    Input   : h : data of the selectedTile\n        \n    Description : \n        change the state of selectedTile based on which tile is clicked and the current state\n        if the current state's id is equal to h's id, the state is set to null\n        else it is updated to h's data     \n\n    Author : Hugo KELHETTER\n*/\nimport { socket } from \"../../socket\";\n\nfunction handleClickTile(h) {\n  var _this$state$selectedT, _this$state$selectedT2, _this$state$selectedT3;\n\n  console.log(this.state.id);\n  console.log(\"SELECTED TILE \", (_this$state$selectedT = this.state.selectedTile) === null || _this$state$selectedT === void 0 ? void 0 : _this$state$selectedT.id);\n\n  if (this.state.selectedTile !== null) {\n    socket.emit(\"getPlayerActivity\", this.state.id, this.state.selectedTile.id, response => {\n      console.log(\"GET PLAYER ACTIVITY IS : \", response); //let { selectedTile } = this.state;\n\n      this.setState({\n        selectedTile: { ...this.state.selectedTile,\n          practice: response[0].practice\n        }\n      });\n      console.log(this.state.selectedTile.practice);\n      /*const newSelectedTile = this.state.selectedTile;\n      //console.log(newSelectedTile);\n      //newSelectedTile.practice = response[0].practice;\n      this.setState({[this.state.selectedTile.practice]: response[0].practice});\n      console.log(this.state.selectedTile)*/\n    });\n  }\n\n  console.log(\"h.props.id = \" + h.props.id + \" .state.selectedTile.id = \" + ((_this$state$selectedT2 = this.state.selectedTile) === null || _this$state$selectedT2 === void 0 ? void 0 : _this$state$selectedT2.id));\n\n  if (h.props.id === ((_this$state$selectedT3 = this.state.selectedTile) === null || _this$state$selectedT3 === void 0 ? void 0 : _this$state$selectedT3.id)) {\n    this.setState({\n      selectedTile: null\n    });\n  } else {\n    this.setState({\n      selectedTile: h.props\n    });\n  }\n}\n\nexport default handleClickTile;","map":{"version":3,"sources":["/home/elouati/Bureau/projet_working/client/src/Game/controls/handleClickTileFarmer.js"],"names":["socket","handleClickTile","h","console","log","state","id","selectedTile","emit","response","setState","practice","props"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,MAAR,QAAqB,cAArB;;AAEA,SAASC,eAAT,CAAyBC,CAAzB,EAA4B;AAAA;;AACxBC,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,EAAvB;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,2BAA8B,KAAKC,KAAL,CAAWE,YAAzC,0DAA8B,sBAAyBD,EAAvD;;AACA,MAAG,KAAKD,KAAL,CAAWE,YAAX,KAA4B,IAA/B,EAAqC;AACjCP,IAAAA,MAAM,CAACQ,IAAP,CAAY,mBAAZ,EAAiC,KAAKH,KAAL,CAAWC,EAA5C,EAAgD,KAAKD,KAAL,CAAWE,YAAX,CAAwBD,EAAxE,EAA6EG,QAAQ,IAAI;AACrFN,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCK,QAAzC,EADqF,CAErF;;AACA,WAAKC,QAAL,CAAc;AACVH,QAAAA,YAAY,EAAG,EACX,GAAG,KAAKF,KAAL,CAAWE,YADH;AAEXI,UAAAA,QAAQ,EAAEF,QAAQ,CAAC,CAAD,CAAR,CAAYE;AAFX;AADL,OAAd;AAMAR,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWE,YAAX,CAAwBI,QAApC;AACA;AACZ;AACA;AACA;AACA;AACS,KAfD;AAgBH;;AACDR,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBF,CAAC,CAACU,KAAF,CAAQN,EAA1B,GAA+B,4BAA/B,8BAA8D,KAAKD,KAAL,CAAWE,YAAzE,2DAA8D,uBAAyBD,EAAvF,CAAZ;;AACA,MAAIJ,CAAC,CAACU,KAAF,CAAQN,EAAR,gCAAe,KAAKD,KAAL,CAAWE,YAA1B,2DAAe,uBAAyBD,EAAxC,CAAJ,EAAgD;AAC5C,SAAKI,QAAL,CAAc;AAAEH,MAAAA,YAAY,EAAE;AAAhB,KAAd;AACH,GAFD,MAGK;AACD,SAAKG,QAAL,CAAc;AAAEH,MAAAA,YAAY,EAAEL,CAAC,CAACU;AAAlB,KAAd;AACH;AACJ;;AACD,eAAeX,eAAf","sourcesContent":["/* \n    Function : handleClickTile\n\n    Syntax  : handleClickTile(h)\n        \n    Input   : h : data of the selectedTile\n        \n    Description : \n        change the state of selectedTile based on which tile is clicked and the current state\n        if the current state's id is equal to h's id, the state is set to null\n        else it is updated to h's data     \n\n    Author : Hugo KELHETTER\n*/\nimport {socket} from \"../../socket\";\n\nfunction handleClickTile(h) {\n    console.log(this.state.id);\n    console.log(\"SELECTED TILE \", this.state.selectedTile?.id);\n    if(this.state.selectedTile !== null) {\n        socket.emit(\"getPlayerActivity\", this.state.id, this.state.selectedTile.id, (response => {\n            console.log(\"GET PLAYER ACTIVITY IS : \", response);\n            //let { selectedTile } = this.state;\n            this.setState({\n                selectedTile : {\n                    ...this.state.selectedTile,\n                    practice: response[0].practice\n                }\n            })\n            console.log(this.state.selectedTile.practice);\n            /*const newSelectedTile = this.state.selectedTile;\n            //console.log(newSelectedTile);\n            //newSelectedTile.practice = response[0].practice;\n            this.setState({[this.state.selectedTile.practice]: response[0].practice});\n            console.log(this.state.selectedTile)*/\n        }))\n    }\n    console.log(\"h.props.id = \" + h.props.id + \" .state.selectedTile.id = \" + this.state.selectedTile?.id)\n    if (h.props.id === this.state.selectedTile?.id) {\n        this.setState({ selectedTile: null })\n    }\n    else {\n        this.setState({ selectedTile: h.props })\n    }\n}\nexport default handleClickTile"]},"metadata":{},"sourceType":"module"}