{"ast":null,"code":"var _jsxFileName = \"/home/elouati/Bureau/projet_working/client/src/Interface/Updating/Updating.js\";\nimport React, { Component } from \"react\";\nimport Style from \"./Updating.module.scss\";\nimport ImageUp from \"./up.png\";\nimport ImageDown from \"./down.png\";\nimport ImageArgent from \"./argent.png\";\nimport ImageTemps from \"./montre_circulaire.png\";\nimport Header from \"../Header/Header\";\nimport formationId from \"../utils/formationId\";\nimport MenuRight from \"../MenuRight/MenuRight\";\nimport { socket } from \"../../socket\";\nimport calculateTime from \"../utils/calculateTime\";\nimport Banque from \"../Banque/Banque\";\nimport timersDefault from \"../../Game/TimersDefault\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Updating extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      colonnes: [\"col-sm-12\", \"col-sm-6\", \"col-sm-4\", \"col-sm-3\"],\n      imageUt: this.props.oldUt >= 0 ? ImageUp : ImageDown,\n      imageUb: this.props.oldUb >= 0 ? ImageUp : ImageDown,\n      timer: [],\n      resources: [],\n      competences: [],\n      banque: false //isOn: false\n\n    }; //setTimeout( () => {this.setState({isOn: true})}, 5)\n  }\n  /*setTimer = () => {\n      socket.emit(\"getTimerUpdating\", (response) => {\n          console.log(response);\n          console.log(calculateTime(response));\n          this.setState({timer: calculateTime(response)});\n          console.log(\"State : \", this.state.timer);\n      })\n  }*/\n\n\n  componentDidMount() {\n    socket.emit(\"getTimer\", 1, response => {\n      console.log(response);\n      console.log(calculateTime(response));\n      this.setState({\n        timer: calculateTime(response)\n      });\n      console.log(\"State : \", this.state.timer);\n    });\n    socket.emit(\"getStats\", this.props.pseudo, response => {\n      console.log(response[0]);\n      const resources = [response[0].ut, response[0].ub];\n      const competences = [response[0].GCultures, response[0].Verger, response[0].BovinV, response[0].Viticulture, response[0].BovinL, response[0].Granivore];\n      this.setState({\n        competences\n      });\n      this.setState({\n        resources\n      });\n    });\n  }\n\n  nombreElements() {\n    var indice = 0;\n\n    for (var i = 0; i < 4; i++) {\n      if (this.state.competences[i] !== 0) {\n        indice += 1;\n      }\n    }\n\n    return indice;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        tour: this.props.tour,\n        pseudo: this.props.pseudo,\n        bassin: this.props.bassin,\n        role: this.props.role,\n        numeroPhase: 1,\n        h: this.props.pTimers ? this.state.timer[0] : timersDefault(1)[0],\n        m: this.props.pTimers ? this.state.timer[1] : timersDefault(1)[1],\n        s: this.props.pTimers ? this.state.timer[2] : timersDefault(1)[2],\n        finishEvent: this.props.onClickEvent\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-2\",\n          children: /*#__PURE__*/_jsxDEV(MenuRight, {\n            role: this.props.role,\n            pseudo: this.props.pseudo,\n            onClickBank: () => this.setState({\n              banque: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-10\",\n          children: !this.state.banque ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"section\", {\n              className: Style.Updating,\n              children: [\"Vos ressources au d\\xE9but du tour :\", /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: Style.TextColor,\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      className: Style.Image,\n                      src: ImageArgent\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 45\n                    }, this), \" UB : \", this.state.resources[1], \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: Style.Image,\n                      src: this.state.imageUb\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 125\n                    }, this), \" \", this.props.oldUb]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: Style.TextColor,\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      className: Style.Image,\n                      src: ImageTemps\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 45\n                    }, this), \" UT : \", this.state.resources[0], \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: Style.Image,\n                      src: this.state.imageUt\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 124\n                    }, this), \" \", this.props.oldUt]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }, this), this.props.role === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Vos niveaux de comp\\xE9tence :\", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row text-center\",\n                  children: this.state.competences.map((f, index) => {\n                    if (f !== 0) {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: this.state.colonnes[this.nombreElements(this.state.competences) - 1],\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: Style.TextColor,\n                          children: [\" \", formationId(index), \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 104,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: Style.TextDecor,\n                          children: [\" \", f, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 105,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 103,\n                        columnNumber: 53\n                      }, this);\n                    }\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 59\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.props.onClickEvent,\n              className: \"btn btn-small btn-primary\",\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(Banque, {\n            pseudo: this.props.pseudo,\n            ut: this.state.resources[0],\n            ub: this.state.resources[1],\n            retour: () => this.setState({\n              banque: false\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 27\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["/home/elouati/Bureau/projet_working/client/src/Interface/Updating/Updating.js"],"names":["React","Component","Style","ImageUp","ImageDown","ImageArgent","ImageTemps","Header","formationId","MenuRight","socket","calculateTime","Banque","timersDefault","Updating","constructor","props","state","colonnes","imageUt","oldUt","imageUb","oldUb","timer","resources","competences","banque","componentDidMount","emit","response","console","log","setState","pseudo","ut","ub","GCultures","Verger","BovinV","Viticulture","BovinL","Granivore","nombreElements","indice","i","render","tour","bassin","role","pTimers","onClickEvent","TextColor","Image","map","f","index","TextDecor"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport Style from \"./Updating.module.scss\";\nimport ImageUp from \"./up.png\";\nimport ImageDown from \"./down.png\";\nimport ImageArgent from \"./argent.png\";\nimport ImageTemps from \"./montre_circulaire.png\";\nimport Header from \"../Header/Header\";\nimport formationId from \"../utils/formationId\";\nimport MenuRight from \"../MenuRight/MenuRight\";\nimport {socket} from \"../../socket\";\nimport calculateTime from \"../utils/calculateTime\";\nimport Banque from \"../Banque/Banque\";\nimport timersDefault from \"../../Game/TimersDefault\";\n\n\nexport default class Updating extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            colonnes: [\"col-sm-12\", \"col-sm-6\", \"col-sm-4\", \"col-sm-3\"],\n            imageUt: (this.props.oldUt >= 0) ? ImageUp : ImageDown,\n            imageUb: (this.props.oldUb >= 0) ? ImageUp : ImageDown,\n            timer: [],\n            resources: [],\n            competences: [],\n            banque: false\n            //isOn: false\n        }\n\n        //setTimeout( () => {this.setState({isOn: true})}, 5)\n    }\n\n    /*setTimer = () => {\n        socket.emit(\"getTimerUpdating\", (response) => {\n            console.log(response);\n            console.log(calculateTime(response));\n            this.setState({timer: calculateTime(response)});\n            console.log(\"State : \", this.state.timer);\n        })\n    }*/\n\n    componentDidMount() {\n        socket.emit(\"getTimer\", 1,(response) => {\n            console.log(response);\n            console.log(calculateTime(response));\n            this.setState({timer: calculateTime(response)});\n            console.log(\"State : \", this.state.timer);\n        })\n\n        socket.emit(\"getStats\", this.props.pseudo, (response) => {\n            console.log(response[0]);\n            const resources = [response[0].ut, response[0].ub]\n            const competences = [response[0].GCultures, response[0].Verger,\n                response[0].BovinV, response[0].Viticulture, response[0].BovinL, response[0].Granivore];\n            this.setState({competences});\n            this.setState({resources})\n        })\n    }\n\n    nombreElements() {\n        var indice = 0;\n        for(var i = 0; i < 4; i++){\n            if(this.state.competences[i] !== 0) {\n                indice += 1;\n            }\n        }\n        return indice;\n    }\n\n\n\n    render() {\n        return (\n            <>\n                <Header tour={this.props.tour} pseudo={this.props.pseudo} bassin={this.props.bassin} role={this.props.role} numeroPhase={1} h={(this.props.pTimers)? this.state.timer[0] : timersDefault(1)[0]}\n                        m={(this.props.pTimers)? this.state.timer[1] : timersDefault(1)[1]}\n                        s={(this.props.pTimers)? this.state.timer[2] : timersDefault(1)[2]}\n                    finishEvent={this.props.onClickEvent}/>\n                <div className=\"row\">\n                    <div className=\"col-sm-2\">\n                        <MenuRight role={this.props.role} pseudo={this.props.pseudo} onClickBank={() => this.setState({banque: true})}/>\n                    </div>\n                        <div className=\"col-sm-10\">\n                        {(!this.state.banque) ?\n                            <>\n                            <section className={Style.Updating}>\n                                Vos ressources au début du tour :\n                                <div className=\"row text-center\">\n                                    <div className=\"col-sm-6\">\n                                        <h2 className={Style.TextColor}>\n                                            <img className={Style.Image} src={ImageArgent}/> UB : {this.state.resources[1]} <img className={Style.Image} src={this.state.imageUb}/> {this.props.oldUb}\n                                        </h2>\n                                    </div>\n                                    <div className=\"col-sm-6\">\n                                        <h2 className={Style.TextColor}>\n                                            <img className={Style.Image} src={ImageTemps}/> UT : {this.state.resources[0]} <img className={Style.Image} src={this.state.imageUt}/> {this.props.oldUt}\n                                        </h2>\n                                    </div>\n                                </div>\n                                {this.props.role === 1 ? (<div>Vos niveaux de compétence :\n                                    <div className={\"row text-center\"}>{this.state.competences.map((f, index) =>\n                                        {if (f !== 0){\n                                            return (<div className={this.state.colonnes[this.nombreElements(this.state.competences)-1]}>\n                                                <p className={Style.TextColor}> {formationId(index)} </p>\n                                                <p className={Style.TextDecor}> {f} </p>\n                                            </div>  )\n                                        }}\n                                    )}</div></div>) : null}\n                            </section>\n                            <button onClick={this.props.onClickEvent} className={\"btn btn-small btn-primary\"}>Next</button>\n                            </>\n                        : <Banque pseudo={this.props.pseudo} ut={this.state.resources[0]} ub={this.state.resources[1]} retour={() => this.setState({banque: false})}/> }\n                        </div>\n                </div>\n            </>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}