{"ast":null,"code":"/* \n    Function : handleClickTile\n\n    Syntax  : handleClickTile(h)\n        \n    Input   : h : data of the selectedTile\n        \n    Description : \n        change the state of selectedTile based on which tile is clicked and the current state\n        if the current state's id is equal to h's id, the state is set to null\n        else it is updated to h's data     \n\n    Author : Hugo KELHETTER\n*/\nimport { socket } from \"../../socket\";\nimport isIncluded from \"../../Interface/utils/isIncluded\";\nimport deleteArray from \"../../Interface/utils/deleteArray\";\n\nfunction handleClickTileFarmer(h) {\n  console.log(\"SELECTED ID : \", this.state.selectedTile); //console.log(\"IS INCLUDED : \", isIncluded(h.props.id, this.state.selectedTile))\n\n  let boolean = isIncluded(h.props.id, this.state.selectedTile)[0];\n  let value = isIncluded(h.props.id, this.state.selectedTile)[1];\n\n  if (boolean) {\n    console.log(\"DELETE = \", deleteArray(value, this.state.selectedTile)); //this.setState({selectedTile: deleteArray(value, this.state.selectedTile)})\n  }\n  /*if (h.props.id === this.state.selectedTile?.id) {\n      this.setState({ selectedTile: null })\n  }*/\n  else {\n      console.log(\"SELECTED TILE : \", this.state.selectedTile); //this.setState({ selectedTile: this.state.selectedTile.push(h.props) })\n\n      console.log(\"STATE ID : \", this.state.id); //console.log(\"SELECTED TILE \", this.state.selectedTile?.id);\n\n      if (this.props.role === 1) {\n        socket.emit(\"getPlayerActivity\", this.state.id, h.props.id, response => {\n          console.log(\"GET PLAYER ACTIVITY IS : \", response[0]); //let { selectedTile } = this.state;\n\n          const newSelectedTile = this.state.selectedTile;\n\n          for (let i = 0; i < newSelectedTile.length; i++) {\n            newSelectedTile[i].practice = response[0].practice;\n          }\n\n          this.setState({\n            selectedTile: {\n              newSelectedTile\n            }\n          }); //console.log(this.state.selectedTile.practice);\n\n          /*const newSelectedTile = this.state.selectedTile;\n          //console.log(newSelectedTile);\n          //newSelectedTile.practice = response[0].practice;\n          this.setState({[this.state.selectedTile.practice]: response[0].practice});\n          console.log(this.state.selectedTile)*/\n        });\n      }\n    }\n}\n\nexport default handleClickTileFarmer;","map":{"version":3,"sources":["/home/elouati/Bureau/projet_working/client/src/Game/controls/handleClickTileFarmer.js"],"names":["socket","isIncluded","deleteArray","handleClickTileFarmer","h","console","log","state","selectedTile","boolean","props","id","value","role","emit","response","newSelectedTile","i","length","practice","setState"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,MAAR,QAAqB,cAArB;AACA,OAAOC,UAAP,MAAuB,kCAAvB;AACA,OAAOC,WAAP,MAAwB,mCAAxB;;AAEA,SAASC,qBAAT,CAA+BC,CAA/B,EAAkC;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKC,KAAL,CAAWC,YAAzC,EAD8B,CAE9B;;AACA,MAAIC,OAAO,GAAGR,UAAU,CAACG,CAAC,CAACM,KAAF,CAAQC,EAAT,EAAa,KAAKJ,KAAL,CAAWC,YAAxB,CAAV,CAAgD,CAAhD,CAAd;AACA,MAAII,KAAK,GAAGX,UAAU,CAACG,CAAC,CAACM,KAAF,CAAQC,EAAT,EAAa,KAAKJ,KAAL,CAAWC,YAAxB,CAAV,CAAgD,CAAhD,CAAZ;;AACA,MAAGC,OAAH,EAAY;AACRJ,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBJ,WAAW,CAACU,KAAD,EAAQ,KAAKL,KAAL,CAAWC,YAAnB,CAApC,EADQ,CAER;AACH;AACD;AACJ;AACA;AANI,OAOK;AACDH,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC,KAAKC,KAAL,CAAWC,YAA3C,EADC,CAED;;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,KAAKC,KAAL,CAAWI,EAAtC,EAHC,CAID;;AACA,UAAG,KAAKD,KAAL,CAAWG,IAAX,KAAoB,CAAvB,EAAyB;AACrBb,QAAAA,MAAM,CAACc,IAAP,CAAY,mBAAZ,EAAiC,KAAKP,KAAL,CAAWI,EAA5C,EAAgDP,CAAC,CAACM,KAAF,CAAQC,EAAxD,EAA6DI,QAAQ,IAAI;AACrEV,UAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCS,QAAQ,CAAC,CAAD,CAAjD,EADqE,CAErE;;AACA,gBAAMC,eAAe,GAAG,KAAKT,KAAL,CAAWC,YAAnC;;AACA,eAAI,IAAIS,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACD,eAAe,CAACE,MAAjC,EAAyCD,CAAC,EAA1C,EAA6C;AACzCD,YAAAA,eAAe,CAACC,CAAD,CAAf,CAAmBE,QAAnB,GAA8BJ,QAAQ,CAAC,CAAD,CAAR,CAAYI,QAA1C;AACH;;AACD,eAAKC,QAAL,CAAc;AACVZ,YAAAA,YAAY,EAAG;AAACQ,cAAAA;AAAD;AADL,WAAd,EAPqE,CAUrE;;AACA;AAChB;AACA;AACA;AACA;AACa,SAhBD;AAiBH;AACJ;AACJ;;AACD,eAAeb,qBAAf","sourcesContent":["/* \n    Function : handleClickTile\n\n    Syntax  : handleClickTile(h)\n        \n    Input   : h : data of the selectedTile\n        \n    Description : \n        change the state of selectedTile based on which tile is clicked and the current state\n        if the current state's id is equal to h's id, the state is set to null\n        else it is updated to h's data     \n\n    Author : Hugo KELHETTER\n*/\nimport {socket} from \"../../socket\";\nimport isIncluded from \"../../Interface/utils/isIncluded\";\nimport deleteArray from \"../../Interface/utils/deleteArray\";\n\nfunction handleClickTileFarmer(h) {\n    console.log(\"SELECTED ID : \", this.state.selectedTile)\n    //console.log(\"IS INCLUDED : \", isIncluded(h.props.id, this.state.selectedTile))\n    let boolean = isIncluded(h.props.id, this.state.selectedTile)[0];\n    let value = isIncluded(h.props.id, this.state.selectedTile)[1];\n    if(boolean) {\n        console.log(\"DELETE = \", deleteArray(value, this.state.selectedTile))\n        //this.setState({selectedTile: deleteArray(value, this.state.selectedTile)})\n    }\n    /*if (h.props.id === this.state.selectedTile?.id) {\n        this.setState({ selectedTile: null })\n    }*/\n    else {\n        console.log(\"SELECTED TILE : \", this.state.selectedTile)\n        //this.setState({ selectedTile: this.state.selectedTile.push(h.props) })\n        console.log(\"STATE ID : \", this.state.id);\n        //console.log(\"SELECTED TILE \", this.state.selectedTile?.id);\n        if(this.props.role === 1){\n            socket.emit(\"getPlayerActivity\", this.state.id, h.props.id, (response => {\n                console.log(\"GET PLAYER ACTIVITY IS : \", response[0]);\n                //let { selectedTile } = this.state;\n                const newSelectedTile = this.state.selectedTile;\n                for(let i = 0; i<newSelectedTile.length; i++){\n                    newSelectedTile[i].practice = response[0].practice;\n                }\n                this.setState({\n                    selectedTile : {newSelectedTile}\n                })\n                //console.log(this.state.selectedTile.practice);\n                /*const newSelectedTile = this.state.selectedTile;\n                //console.log(newSelectedTile);\n                //newSelectedTile.practice = response[0].practice;\n                this.setState({[this.state.selectedTile.practice]: response[0].practice});\n                console.log(this.state.selectedTile)*/\n            }))\n        }\n    }\n}\nexport default handleClickTileFarmer"]},"metadata":{},"sourceType":"module"}