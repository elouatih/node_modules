{"ast":null,"code":"var _jsxFileName = \"/home/elouati/Bureau/projet_working/client/src/Game/animator/AnimatorLoader.js\";\nimport React, { useContext } from 'react';\nimport { socket } from '../../socket.js';\nimport PropTypes from 'prop-types';\nimport { generateHexes, generateRivers } from \"../map/MapUtil.js\";\nimport Bassin from \"../map/Bassin.js\";\nimport handleClickTile from '../controls/handleClickTileFarmer.js';\nimport ChangeTile from './ChangeTile.js';\nimport Menu from '../controls/Menu.js';\nimport { Button, Typography } from '@material-ui/core'; //import CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\n//import CheckBoxIcon from '@material-ui/icons/CheckBox';\n\nimport ConfirmDialog from \"../controls/ConfirmDialog.js\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport SetFarmers from \"../../Interface/Animator/SetFarmers\";\nimport SetTimeInterface from \"../../Interface/Animator/SetTimeInterface\";\nimport Settings from \"../../Interface/Animator/Settings\";\nimport Style from \"../../Interface/Header/Header.module.scss\";\nimport StyleStrategy from \"../../Interface/Strategy/Strategy.module.scss\";\nimport Checkbox from \"../../Interface/utils/Checkbox\";\nimport TimerContext from \"./timers-context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class AnimatorLoader extends React.Component {\n  /* \n      Input : props={name}\n              name: string : name of the player\n      \n      Syntax : <AnimatorLoader name=\"player's name\"/>\n  */\n  constructor(props) {\n    super(props);\n\n    this.addConvo = data => {\n      if (data.convoName.length === 0) {\n        alert(\"vous devez entrer un nom\");\n        return false;\n      }\n\n      for (const entry in this.state.lstConvo) {\n        if (entry === data.convoName) {\n          alert(\"Nom déjà pris\");\n          return false;\n        }\n      }\n\n      let newConvo = [];\n      const name = data.convoName;\n\n      for (const entry in data.lstPlayer) {\n        if (!(entry === \"convoName\" || entry === \"lstConvo\")) {\n          if (data.lstPlayer[entry]) newConvo.push(entry);\n        }\n      }\n\n      if (newConvo.length > 0) {\n        this.setState({\n          lstConvo: { ...this.state.lstConvo,\n            [name]: newConvo\n          }\n        });\n        return true;\n      }\n\n      alert(\"Vous devez selectionner des joueurs\");\n      return false;\n    };\n\n    this.componentWillMount = () => {\n      this.selectedCheckboxes = new Set();\n    };\n\n    this.toggleCheckbox = label => {\n      const newSelected = new Set();\n\n      if (this.selectedCheckboxes.has(label)) {\n        //this.setValueActivity(label, 0);\n        this.selectedCheckboxes.delete(label);\n        this.setState({\n          selected: newSelected\n        });\n      } else {\n        this.selectedCheckboxes.add(label);\n        this.setState({\n          selected: newSelected\n        });\n      }\n    };\n\n    this.updateMap = tileChange => {\n      let tile = this.state.map.moreHexas[tileChange.selectedTile - 1];\n      delete tileChange.selectedTile;\n      tile = this.updateObject(tile, tileChange);\n      this.setState({\n        selectedTile: \"\"\n      });\n    };\n\n    this.numberPlayers = () => {\n      return this.state.lstPlayer.length - 1;\n    };\n\n    this.handleSubmit = () => {\n      /*         console.log(this.state.action)\n              switch (this.state.action) {\n                  case \"Commencer la partie\":\n                      this.setState({ mapReady: false })\n                      socket.emit(\"mapReady\")\n                      break;\n                  case \"Terminer la partie\":\n                      socket.emit(\"endGame\")\n                      break;\n                  default:\n                      socket.emit(\"nextTurn\", () => {\n                          socket.emit(\"getTurn\", (response) => {\n                              this.setState({ tour: response })\n                          })\n                      })\n              } */\n      const action = this.actionToString();\n\n      if (action === \"Finir les modifications\") {\n        if (this.state.tour === -1) {\n          socket.emit(\"mapReady\");\n          console.log(\"mapReady\");\n          this.setState({\n            tour: 0\n          });\n        } else {\n          socket.emit(\"inputPhase\");\n          console.log(\"inputphase\");\n        }\n      } else {\n        let finishBool = 0; //if(this.state.lstPlayer && this.state.lstPlayer.length){\n\n        /*for(let i=0; i<this.state.lstPlayer.length; i++){\n            console.log(this.state.lstPlayer[i])\n            if(this.state.lstPlayer[i].Id !== 11){\n                socket.emit(\"getFinishTourPlayer\", this.state.lstPlayer[i].Id, (response) => {\n                    console.log(\"FINISH TOUR \" + this.state.lstPlayer[i].Id + \" : \", response.FinishTour);\n                    finishBool = finishBool + (response.FinishTour? 1: 0);\n                    console.log(\"FINISH TOUR \" + this.state.lstPlayer[i].Id + \" : \", finishBool)\n                })}\n        }*/\n\n        this.state.lstPlayer.map(item => {\n          if (item.Id !== 11) {\n            socket.emit(\"getFinishTourPlayer\", item.Id, response => {\n              //console.log(\"FINISH TOUR \" + item.Id + \" : \", response.FinishTour);\n              finishBool = finishBool + (response.FinishTour ? 1 : 0);\n              console.log(\"FINISH TOUR \" + item.Id + \" : \", finishBool);\n            });\n          }\n        }); //}\n\n        setTimeout(() => {\n          console.log(\"FINISH BOOL = \", finishBool);\n          console.log(\"this.getFinishTourPlayers()\", finishBool);\n          console.log(\"this.numberPlayers\", this.numberPlayers());\n\n          if (finishBool === this.numberPlayers()) {\n            console.log(\"TOUR FINISHED\"); //console.log(\"this.getFinishTourPlayers()\", finishBool);\n\n            socket.emit(\"nextTurn\", () => {\n              socket.emit(\"getTurn\", response => {\n                console.log(response);\n                this.setState({\n                  tour: response\n                });\n              });\n            });\n          }\n        }, 500); //return finishBool;\n      }\n\n      console.log(\"TOUR COURANT : \", this.state.tour);\n      this.setState({\n        displayConfirmDialog: false,\n        farmersPlaying: !this.state.farmersPlaying\n      });\n    };\n\n    this.cancel = () => {\n      this.setState({\n        displayConfirmDialog: false\n      });\n    };\n\n    this.handleContinue = event => {\n      /* console.log(event.currentTarget, event.currentTarget.name)\n      this.setState({ farmersPlaying: !this.state.farmersPlaying })\n      if (!this.state.farmersPlaying) { socket.emit(\"inputPhase\", () => { }) } */\n      this.setState({\n        action: event.currentTarget.name,\n        displayConfirmDialog: true\n      });\n    };\n\n    this.submit = () => {\n      this.setState({\n        pAgris: this.selectedCheckboxes.has(\" 1.\"),\n        pTimers: this.selectedCheckboxes.has(\" 2.\"),\n        pNumber: this.selectedCheckboxes.has(\" 3.\"),\n        allDefault: false\n      });\n      console.log(this.state.pAgris, this.state.pTimers, this.state.pNumber, this.state.allDefault);\n\n      if (!this.state.pAgris) {\n        /* Submit les paramètres par défaut des agriculteurs */\n\n        /*console.log(defaultSettings(this.state.fileAgri, 8));*/\n        console.log(\"NUMBER AGRIS = \", this.state.agriPlayer.length);\n        socket.emit(\"defaultAgris\", this.state.agriPlayer.length, response => {\n          console.log(response);\n        });\n      }\n\n      if (!this.state.pTimers) {\n        socket.emit(\"defaultTimer\", response => {\n          this.context.updateUpdating(response[0]);\n          this.context.updateStrategy(response[1]);\n          this.context.updateActions(response[2]);\n          this.context.updateEvents(response[3]);\n          this.context.updateDebriefing(response[4]);\n          this.context.updateSatisfaction(response[5]);\n          this.context.updateResults(response[6]);\n        });\n      }\n    };\n\n    this.createCheckbox = label => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"agri\",\n        children: /*#__PURE__*/_jsxDEV(Checkbox, {\n          label: label,\n          isChecked: this.selectedCheckboxes.has(label),\n          handleCheckboxChange: this.toggleCheckbox\n        }, label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n\n    this.state = {\n      interfaceCtx: 1,\n      lstPlayer: \"\",\n      lstTile: \"\",\n      map: {\n        moreHexas: \"\",\n        moreRivers: null\n      },\n      mapReady: true,\n      tour: -1,\n      action: \"\",\n      disconnected: false,\n      farmersPlaying: false,\n      listPlayer: [],\n      agriPlayer: [],\n      pAgris: false,\n      pTimers: false,\n      pNumber: false,\n      allDefault: true,\n      selected: new Set(),\n      finishTour: true,\n      fileAgri: \"./settings/agris.txt\",\n      fileTimers: \"./settings/timers.txt\",\n      timers: []\n    }; //this.addConvo = this.addConvo.bind(this)\n\n    this.handleClickTile = handleClickTile.bind(this);\n  }\n\n  /*\n      Function : componentDidMount\n       Description : retrieve the map and players's data\n       Author : Hugo KELHETTER\n    */\n  componentDidMount() {\n    socket.on(\"disconnect\", () => {\n      this.setState({\n        disconnected: true\n      });\n    });\n    socket.on(\"connect\", () => {\n      if (this.state.disconnected) {\n        socket.emit('reconnect', this.props.room, this.props.name, () => {\n          this.setState({\n            disconnected: false\n          });\n        });\n      }\n    });\n    socket.emit(\"getCurrentGrid\", response => {\n      const newHexas = generateHexes(response);\n      let lstTile = newHexas[1];\n      const newRivers = generateRivers(newHexas[0]); //const tampon = this.createTampon(newHexas, this.state.map.player)\n\n      this.setState({\n        map: { ...this.state.map,\n          moreHexas: newHexas[0],\n          moreRivers: newRivers,\n          selectedTile: null\n        },\n        lstTile\n      });\n    });\n    socket.emit(\"playersInRoom\", response => {\n      //console.log(\"RESPONSE\");\n      //console.log(response);\n      this.setState({\n        listPlayer: response\n      });\n      this.setState({\n        lstPlayer: response\n      }); //})\n    });\n    socket.emit(\"agriInRoom\", response => {\n      //console.log(\"RESPONSE\");\n      const agriculteursInRoom = [];\n      response.map(item => agriculteursInRoom.push(item.Name));\n      this.setState({\n        agriPlayer: agriculteursInRoom\n      }); //this.setState({agriPlayer: response})\n      //})\n    });\n    /*socket.emit(\"getSettings\", (response) => {\n        const s = response[0];\n        console.log(\"SETTINGS = \", s);\n        this.setState({\n            pAgris: s.PersonalizedAgris,\n            pTimers: s.PersonalizedTimers,\n            pNumber: s.PersonalizedNumber,\n            allDefault: s.DefaultData\n        })\n     })*/\n  }\n  /*\n      Function : updateObject\n       Syntax  : obj=updateObject(source,newData)\n       Input   : source : object : the object to update\n                newData : object : the object containing new data\n       Output  : obj : object : an updated object\n       Description : update source with the subset of data contained in newData\n                      let source = {firstname:hugo,name:kelhetter} and newData={firstname:jhon}\n                      let newObject=updateObject(source,newData)\n                      newObject = {firstname:jhon,name:kelhetter}\n       Author : Hugo KELHETTER\n  \n  */\n\n\n  updateObject(source, newData) {\n    for (const key in newData) {\n      source[key] = newData[key];\n    }\n\n    return source;\n  }\n  /*\n      Function : updateMap\n       Syntax  : updateMap(tileChange)\n       Input   : tileChange : object : new set of data for a tile of the map\n       Description : update the map with new data\n       Author : Hugo KELHETTER\n  \n  */\n\n\n  openTuto() {\n    window.open(`${window.location.href}tutorial?tuto=2`);\n  }\n\n  actionToString() {\n    if (this.state.farmersPlaying) return \"Finir le tour\";\n    return \"Finir les modifications\";\n  }\n\n  endGame() {\n    socket.emit(\"endGame\");\n  }\n  /* author Hossam ELOUATI */\n\n\n  settingsOptions(nextInterface) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.Header,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Content,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.TextColor,\n              children: \"Jeu S\\xE9rieux - Le Bassin de Moderbach\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.TextColor,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-6\",\n                children: [\"Pseudo : \", this.props.pseudo]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-6\",\n                children: \"R\\xF4le : Animateur\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: StyleStrategy.nextInterface,\n            onClick: nextInterface,\n            children: \"Passer \\xE0 l'interface suivante\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: StyleStrategy.none4,\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: StyleStrategy.header,\n              children: \"Choisir entre ces options\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"row text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: StyleStrategy.header2,\n              children: [this.createCheckbox(\" 1.\"), \" Personnaliser les r\\xF4les des agriculteurs\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 33\n              }, this), this.createCheckbox(\" 2.\"), \" Personnaliser les dur\\xE9es de chaque phase\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 33\n              }, this), this.selectedCheckboxes.has(\" 1.\") === false ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [this.createCheckbox(\" 3.\"), \" Choisir un nombre pour chaque type d'agriculteurs\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.submit,\n              className: StyleStrategy.nextInterface,\n              children: \"Valider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 25\n          }, this), console.log(this.selectedCheckboxes)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n  agriActivity() {\n    return /*#__PURE__*/_jsxDEV(SetFarmers, {\n      pseudo: this.props.name,\n      listAgri: this.state.agriPlayer,\n      nextInterface: () => this.setState({\n        interfaceCtx: this.state.pTimers === true ? 3 : 4\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 16\n    }, this);\n  }\n  /* author Hossam ELOUATI */\n\n\n  setTimers() {\n    return /*#__PURE__*/_jsxDEV(SetTimeInterface, {\n      pseudo: this.props.name,\n      nextInterface: () => this.setState({\n        interfaceCtx: 4\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 16\n    }, this);\n  }\n  /*settings() {\n      return <Settings pseudo={this.props.name} nextInterface={\n          () => this.setState({\n                  interfaceCtx: (this.state.pAgris === true) ? 2 : (this.state.pTimers === true) ? 3 : 4\n              })}/>\n  }*/\n\n  /*     Description : display the UI of the animator : the map, and controls over the map and the game in general\n  *       Author : Hugo KELHETTER\n  * */\n\n\n  principal() {\n    var _this$state$selectedT;\n\n    {\n      console.log(\"LIST PLAYER = \", this.state.lstPlayer);\n    }\n    {\n      this.state.listPlayer.map(item => console.log(\"ID : \" + item.Id + \" Name : \" + item.Name));\n    }\n    const buttonValue = this.actionToString(); //const buttonValue = this.state.mapReady ? \"Commencer la partie\" : `Terminer le tour ${this.state.tour}`\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [this.state.displayConfirmDialog && /*#__PURE__*/_jsxDEV(ConfirmDialog, {\n        cancel: this.cancel,\n        confirm: this.handleSubmit,\n        action: this.state.action\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(Menu, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"menu\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: this.openTuto,\n              children: \"Aide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              children: [\"tour actuel : \", this.state.tour]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              children: [\" \", this.state.mapReady && \"Vous pouvez modifier la carte avant le début de la partie. \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              children: \" Cliquez sur une case pour apporter des modifications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              children: [\" L'identifiant de la partie est : \", this.props.room]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              \"data-testid\": \"submit\",\n              name: buttonValue,\n              value: buttonValue,\n              onClick: this.handleContinue,\n              children: buttonValue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              \"data-testid\": \"submit\",\n              name: \"Terminer la partie\",\n              onClick: this.endGame,\n              children: \"Terminer la partie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 25\n          }, this), this.state.lstPlayer !== \"\" && this.state.lstTile !== \"\" && this.state.selectedTile && !this.state.farmersPlaying && /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"changeTile\",\n            children: /*#__PURE__*/_jsxDEV(ChangeTile, {\n              lstPlayer: this.state.lstPlayer,\n              lstTile: this.state.map.moreHexas,\n              updateMap: this.updateMap,\n              selectedTile: this.state.selectedTile,\n              type: this.state.selectedTile.className,\n              id: this.state.selectedTile.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 21\n        }, this), this.state.map.moreHexas !== \"\" && /*#__PURE__*/_jsxDEV(Bassin, {\n          handleClick: this.handleClickTile,\n          selectedId: (_this$state$selectedT = this.state.selectedTile) === null || _this$state$selectedT === void 0 ? void 0 : _this$state$selectedT.id,\n          map: this.state.map,\n          role: this.props.role,\n          id: this.state.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n  /*\n  Function : render\n   Syntax  : render()\n   Description : display the UI of the animator : the map, and controls over the map and the game in general\n   Author : Hossam ELOUATI\n  */\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: this.state.interfaceCtx === 2 ? this.agriActivity() : this.state.interfaceCtx === 3 ? this.setTimers() : this.state.interfaceCtx === 1 ? this.settingsOptions(() => this.setState({\n        interfaceCtx: this.state.pAgris === true ? 2 : this.state.pTimers === true ? 3 : 4\n      })) : this.principal()\n    }, void 0, false);\n  }\n\n}\nAnimatorLoader.contextType = TimerContext;\nAnimatorLoader.propTypes = {\n  name: PropTypes.string.isRequired\n};","map":{"version":3,"sources":["/home/elouati/Bureau/projet_working/client/src/Game/animator/AnimatorLoader.js"],"names":["React","useContext","socket","PropTypes","generateHexes","generateRivers","Bassin","handleClickTile","ChangeTile","Menu","Button","Typography","ConfirmDialog","ListItem","ListItemText","SetFarmers","SetTimeInterface","Settings","Style","StyleStrategy","Checkbox","TimerContext","AnimatorLoader","Component","constructor","props","addConvo","data","convoName","length","alert","entry","state","lstConvo","newConvo","name","lstPlayer","push","setState","componentWillMount","selectedCheckboxes","Set","toggleCheckbox","label","newSelected","has","delete","selected","add","updateMap","tileChange","tile","map","moreHexas","selectedTile","updateObject","numberPlayers","handleSubmit","action","actionToString","tour","emit","console","log","finishBool","item","Id","response","FinishTour","setTimeout","displayConfirmDialog","farmersPlaying","cancel","handleContinue","event","currentTarget","submit","pAgris","pTimers","pNumber","allDefault","agriPlayer","context","updateUpdating","updateStrategy","updateActions","updateEvents","updateDebriefing","updateSatisfaction","updateResults","createCheckbox","interfaceCtx","lstTile","moreRivers","mapReady","disconnected","listPlayer","finishTour","fileAgri","fileTimers","timers","bind","componentDidMount","on","room","newHexas","newRivers","agriculteursInRoom","Name","source","newData","key","openTuto","window","open","location","href","endGame","settingsOptions","nextInterface","Header","Content","TextColor","pseudo","none4","header","header2","agriActivity","setTimers","principal","buttonValue","className","id","role","render","contextType","propTypes","string","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,QAAgC,OAAhC;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,mBAA9C;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,OAAOC,UAAP,MAAuB,iBAAvB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,SAASC,MAAT,EAAiBC,UAAjB,QAAmC,mBAAnC,C,CACA;AACA;;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,OAAOC,gBAAP,MAA6B,2CAA7B;AACA,OAAOC,QAAP,MAAqB,mCAArB;AACA,OAAOC,KAAP,MAAkB,2CAAlB;AACA,OAAOC,aAAP,MAA0B,+CAA1B;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAOC,YAAP,MAAyB,kBAAzB;;;AAEA,eAAe,MAAMC,cAAN,SAA6BtB,KAAK,CAACuB,SAAnC,CAA6C;AACxD;AACJ;AACA;AACA;AACA;AACA;AACIC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA0CnBC,QA1CmB,GA0CPC,IAAD,IAAU;AAEjB,UAAIA,IAAI,CAACC,SAAL,CAAeC,MAAf,KAA0B,CAA9B,EAAiC;AAC7BC,QAAAA,KAAK,CAAC,0BAAD,CAAL;AACA,eAAO,KAAP;AACH;;AACD,WAAK,MAAMC,KAAX,IAAoB,KAAKC,KAAL,CAAWC,QAA/B,EAAyC;AACrC,YAAIF,KAAK,KAAKJ,IAAI,CAACC,SAAnB,EAA8B;AAC1BE,UAAAA,KAAK,CAAC,eAAD,CAAL;AACA,iBAAO,KAAP;AACH;AACJ;;AAED,UAAII,QAAQ,GAAG,EAAf;AACA,YAAMC,IAAI,GAAGR,IAAI,CAACC,SAAlB;;AACA,WAAK,MAAMG,KAAX,IAAoBJ,IAAI,CAACS,SAAzB,EAAoC;AAChC,YAAI,EAAEL,KAAK,KAAK,WAAV,IAAyBA,KAAK,KAAK,UAArC,CAAJ,EAAsD;AAClD,cAAIJ,IAAI,CAACS,SAAL,CAAeL,KAAf,CAAJ,EAA2BG,QAAQ,CAACG,IAAT,CAAcN,KAAd;AAC9B;AACJ;;AAED,UAAIG,QAAQ,CAACL,MAAT,GAAkB,CAAtB,EAAyB;AACrB,aAAKS,QAAL,CAAc;AAACL,UAAAA,QAAQ,EAAE,EAAC,GAAG,KAAKD,KAAL,CAAWC,QAAf;AAAyB,aAACE,IAAD,GAAQD;AAAjC;AAAX,SAAd;AACA,eAAO,IAAP;AACH;;AACDJ,MAAAA,KAAK,CAAC,qCAAD,CAAL;AACA,aAAO,KAAP;AACH,KArEkB;;AAAA,SAsEnBS,kBAtEmB,GAsEE,MAAM;AACvB,WAAKC,kBAAL,GAA0B,IAAIC,GAAJ,EAA1B;AACH,KAxEkB;;AAAA,SA0EnBC,cA1EmB,GA0EDC,KAAD,IAAW;AACxB,YAAMC,WAAW,GAAG,IAAIH,GAAJ,EAApB;;AACA,UAAI,KAAKD,kBAAL,CAAwBK,GAAxB,CAA4BF,KAA5B,CAAJ,EAAwC;AACpC;AACA,aAAKH,kBAAL,CAAwBM,MAAxB,CAA+BH,KAA/B;AACA,aAAKL,QAAL,CAAc;AAACS,UAAAA,QAAQ,EAAEH;AAAX,SAAd;AAEH,OALD,MAKO;AACH,aAAKJ,kBAAL,CAAwBQ,GAAxB,CAA4BL,KAA5B;AACA,aAAKL,QAAL,CAAc;AAACS,UAAAA,QAAQ,EAAEH;AAAX,SAAd;AACH;AACJ,KArFkB;;AAAA,SA2LnBK,SA3LmB,GA2LNC,UAAD,IAAgB;AACxB,UAAIC,IAAI,GAAG,KAAKnB,KAAL,CAAWoB,GAAX,CAAeC,SAAf,CAAyBH,UAAU,CAACI,YAAX,GAA0B,CAAnD,CAAX;AACA,aAAOJ,UAAU,CAACI,YAAlB;AACAH,MAAAA,IAAI,GAAG,KAAKI,YAAL,CAAkBJ,IAAlB,EAAwBD,UAAxB,CAAP;AACA,WAAKZ,QAAL,CAAc;AAACgB,QAAAA,YAAY,EAAE;AAAf,OAAd;AACH,KAhMkB;;AAAA,SA0OnBE,aA1OmB,GA0OH,MAAM;AAClB,aAAO,KAAKxB,KAAL,CAAWI,SAAX,CAAqBP,MAArB,GAA8B,CAArC;AACH,KA5OkB;;AAAA,SA8OnB4B,YA9OmB,GA8OJ,MAAM;AACjB;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQ,YAAMC,MAAM,GAAG,KAAKC,cAAL,EAAf;;AACA,UAAID,MAAM,KAAK,yBAAf,EAA0C;AACtC,YAAI,KAAK1B,KAAL,CAAW4B,IAAX,KAAoB,CAAC,CAAzB,EAA4B;AACxB1D,UAAAA,MAAM,CAAC2D,IAAP,CAAY,UAAZ;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,eAAKzB,QAAL,CAAc;AAACsB,YAAAA,IAAI,EAAE;AAAP,WAAd;AACH,SAJD,MAIO;AACH1D,UAAAA,MAAM,CAAC2D,IAAP,CAAY,YAAZ;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACH;AACJ,OATD,MASO;AACH,YAAIC,UAAU,GAAG,CAAjB,CADG,CAEH;;AACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACY,aAAKhC,KAAL,CAAWI,SAAX,CAAqBgB,GAArB,CAAyBa,IAAI,IAAI;AAC7B,cAAGA,IAAI,CAACC,EAAL,KAAY,EAAf,EAAkB;AACdhE,YAAAA,MAAM,CAAC2D,IAAP,CAAY,qBAAZ,EAAmCI,IAAI,CAACC,EAAxC,EAA6CC,QAAD,IAAc;AACtD;AACAH,cAAAA,UAAU,GAAGA,UAAU,IAAIG,QAAQ,CAACC,UAAT,GAAqB,CAArB,GAAwB,CAA5B,CAAvB;AACAN,cAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBE,IAAI,CAACC,EAAtB,GAA2B,KAAvC,EAA8CF,UAA9C;AACH,aAJD;AAIG;AACV,SAPD,EAZG,CAoBH;;AACAK,QAAAA,UAAU,CAAC,MAAM;AACbP,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BC,UAA9B;AACAF,UAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CC,UAA3C;AACAF,UAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC,KAAKP,aAAL,EAAlC;;AACA,cAAGQ,UAAU,KAAK,KAAKR,aAAL,EAAlB,EAAuC;AACnCM,YAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EADmC,CAEnC;;AACA7D,YAAAA,MAAM,CAAC2D,IAAP,CAAY,UAAZ,EAAwB,MAAM;AAC1B3D,cAAAA,MAAM,CAAC2D,IAAP,CAAY,SAAZ,EAAwBM,QAAD,IAAc;AACjCL,gBAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACA,qBAAK7B,QAAL,CAAc;AAACsB,kBAAAA,IAAI,EAAEO;AAAP,iBAAd;AACH,eAHD;AAIH,aALD;AAMH;AACJ,SAdS,EAcP,GAdO,CAAV,CArBG,CAoCH;AACH;;AACDL,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B,KAAK/B,KAAL,CAAW4B,IAA1C;AACA,WAAKtB,QAAL,CAAc;AAACgC,QAAAA,oBAAoB,EAAE,KAAvB;AAA8BC,QAAAA,cAAc,EAAE,CAAC,KAAKvC,KAAL,CAAWuC;AAA1D,OAAd;AACH,KAjTkB;;AAAA,SAkTnBC,MAlTmB,GAkTV,MAAM;AACX,WAAKlC,QAAL,CAAc;AAACgC,QAAAA,oBAAoB,EAAE;AAAvB,OAAd;AACH,KApTkB;;AAAA,SAqTnBG,cArTmB,GAqTDC,KAAD,IAAW;AACxB;AACR;AACA;AACQ,WAAKpC,QAAL,CAAc;AAACoB,QAAAA,MAAM,EAAEgB,KAAK,CAACC,aAAN,CAAoBxC,IAA7B;AAAmCmC,QAAAA,oBAAoB,EAAE;AAAzD,OAAd;AACH,KA1TkB;;AAAA,SA4UnBM,MA5UmB,GA4UV,MAAM;AACX,WAAKtC,QAAL,CAAc;AACVuC,QAAAA,MAAM,EAAE,KAAKrC,kBAAL,CAAwBK,GAAxB,CAA4B,KAA5B,CADE;AAEViC,QAAAA,OAAO,EAAE,KAAKtC,kBAAL,CAAwBK,GAAxB,CAA4B,KAA5B,CAFC;AAGVkC,QAAAA,OAAO,EAAE,KAAKvC,kBAAL,CAAwBK,GAAxB,CAA4B,KAA5B,CAHC;AAIVmC,QAAAA,UAAU,EAAE;AAJF,OAAd;AAMAlB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAK/B,KAAL,CAAW6C,MAAvB,EAA8B,KAAK7C,KAAL,CAAW8C,OAAzC,EAAiD,KAAK9C,KAAL,CAAW+C,OAA5D,EAAoE,KAAK/C,KAAL,CAAWgD,UAA/E;;AACA,UAAG,CAAC,KAAKhD,KAAL,CAAW6C,MAAf,EAAuB;AACnB;;AACA;AACAf,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA8B,KAAK/B,KAAL,CAAWiD,UAAX,CAAsBpD,MAApD;AACA3B,QAAAA,MAAM,CAAC2D,IAAP,CAAY,cAAZ,EAA4B,KAAK7B,KAAL,CAAWiD,UAAX,CAAsBpD,MAAlD,EAA2DsC,QAAD,IAAc;AACpEL,UAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACH,SAFD;AAGH;;AACD,UAAG,CAAC,KAAKnC,KAAL,CAAW8C,OAAf,EAAwB;AACpB5E,QAAAA,MAAM,CAAC2D,IAAP,CAAY,cAAZ,EAA6BM,QAAD,IAAc;AACtC,eAAKe,OAAL,CAAaC,cAAb,CAA4BhB,QAAQ,CAAC,CAAD,CAApC;AACA,eAAKe,OAAL,CAAaE,cAAb,CAA4BjB,QAAQ,CAAC,CAAD,CAApC;AACA,eAAKe,OAAL,CAAaG,aAAb,CAA2BlB,QAAQ,CAAC,CAAD,CAAnC;AACA,eAAKe,OAAL,CAAaI,YAAb,CAA0BnB,QAAQ,CAAC,CAAD,CAAlC;AACA,eAAKe,OAAL,CAAaK,gBAAb,CAA8BpB,QAAQ,CAAC,CAAD,CAAtC;AACA,eAAKe,OAAL,CAAaM,kBAAb,CAAgCrB,QAAQ,CAAC,CAAD,CAAxC;AACA,eAAKe,OAAL,CAAaO,aAAb,CAA2BtB,QAAQ,CAAC,CAAD,CAAnC;AACH,SARD;AASH;AACJ,KAvWkB;;AAAA,SAyWnBuB,cAzWmB,GAyWD/C,KAAD,iBACb;AAAA,6BACI;AAAO,QAAA,OAAO,EAAE,MAAhB;AAAA,+BACI,QAAC,QAAD;AAAU,UAAA,KAAK,EAAEA,KAAjB;AAAwB,UAAA,SAAS,EAAG,KAAKH,kBAAL,CAAwBK,GAAxB,CAA4BF,KAA5B,CAApC;AAAwE,UAAA,oBAAoB,EAAE,KAAKD;AAAnG,WAAwHC,KAAxH;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ,qBA1We;;AAEf,SAAKX,KAAL,GAAa;AACT2D,MAAAA,YAAY,EAAE,CADL;AAETvD,MAAAA,SAAS,EAAE,EAFF;AAEMwD,MAAAA,OAAO,EAAE,EAFf;AAEmBxC,MAAAA,GAAG,EAAE;AAACC,QAAAA,SAAS,EAAE,EAAZ;AAAgBwC,QAAAA,UAAU,EAAE;AAA5B,OAFxB;AAE2DC,MAAAA,QAAQ,EAAE,IAFrE;AAE2ElC,MAAAA,IAAI,EAAE,CAAC,CAFlF;AAEqFF,MAAAA,MAAM,EAAE,EAF7F;AAGTqC,MAAAA,YAAY,EAAE,KAHL;AAGYxB,MAAAA,cAAc,EAAE,KAH5B;AAGmCyB,MAAAA,UAAU,EAAE,EAH/C;AAGmDf,MAAAA,UAAU,EAAE,EAH/D;AAITJ,MAAAA,MAAM,EAAE,KAJC;AAIMC,MAAAA,OAAO,EAAE,KAJf;AAIsBC,MAAAA,OAAO,EAAE,KAJ/B;AAIsCC,MAAAA,UAAU,EAAE,IAJlD;AAIwDjC,MAAAA,QAAQ,EAAE,IAAIN,GAAJ,EAJlE;AAKTwD,MAAAA,UAAU,EAAE,IALH;AAKSC,MAAAA,QAAQ,EAAE,sBALnB;AAK2CC,MAAAA,UAAU,EAAE,uBALvD;AAMTC,MAAAA,MAAM,EAAE;AANC,KAAb,CAFe,CAUf;;AACA,SAAK7F,eAAL,GAAuBA,eAAe,CAAC8F,IAAhB,CAAqB,IAArB,CAAvB;AAEH;;AA0ED;AACJ;AACA;AACA;AACA;AAIIC,EAAAA,iBAAiB,GAAG;AAChBpG,IAAAA,MAAM,CAACqG,EAAP,CAAU,YAAV,EAAwB,MAAM;AAC1B,WAAKjE,QAAL,CAAc;AAACyD,QAAAA,YAAY,EAAE;AAAf,OAAd;AACH,KAFD;AAIA7F,IAAAA,MAAM,CAACqG,EAAP,CAAU,SAAV,EAAqB,MAAM;AACvB,UAAI,KAAKvE,KAAL,CAAW+D,YAAf,EAA6B;AACzB7F,QAAAA,MAAM,CAAC2D,IAAP,CAAY,WAAZ,EAAyB,KAAKpC,KAAL,CAAW+E,IAApC,EAA0C,KAAK/E,KAAL,CAAWU,IAArD,EAA2D,MAAM;AAC7D,eAAKG,QAAL,CAAc;AAACyD,YAAAA,YAAY,EAAE;AAAf,WAAd;AACH,SAFD;AAGH;AACJ,KAND;AAQA7F,IAAAA,MAAM,CAAC2D,IAAP,CAAY,gBAAZ,EAA+BM,QAAD,IAAc;AACxC,YAAMsC,QAAQ,GAAGrG,aAAa,CAAC+D,QAAD,CAA9B;AACA,UAAIyB,OAAO,GAAGa,QAAQ,CAAC,CAAD,CAAtB;AACA,YAAMC,SAAS,GAAGrG,cAAc,CAACoG,QAAQ,CAAC,CAAD,CAAT,CAAhC,CAHwC,CAIxC;;AACA,WAAKnE,QAAL,CAAc;AACVc,QAAAA,GAAG,EAAE,EAAC,GAAG,KAAKpB,KAAL,CAAWoB,GAAf;AAAoBC,UAAAA,SAAS,EAAEoD,QAAQ,CAAC,CAAD,CAAvC;AAA4CZ,UAAAA,UAAU,EAAEa,SAAxD;AAAmEpD,UAAAA,YAAY,EAAE;AAAjF,SADK;AAEVsC,QAAAA;AAFU,OAAd;AAKH,KAVD;AAWA1F,IAAAA,MAAM,CAAC2D,IAAP,CAAY,eAAZ,EAA8BM,QAAD,IAAc;AACvC;AACA;AACA,WAAK7B,QAAL,CAAc;AAAC0D,QAAAA,UAAU,EAAE7B;AAAb,OAAd;AACA,WAAK7B,QAAL,CAAc;AAACF,QAAAA,SAAS,EAAE+B;AAAZ,OAAd,EAJuC,CAKvC;AACH,KAND;AAQAjE,IAAAA,MAAM,CAAC2D,IAAP,CAAY,YAAZ,EAA2BM,QAAD,IAAc;AACpC;AACA,YAAMwC,kBAAkB,GAAG,EAA3B;AACAxC,MAAAA,QAAQ,CAACf,GAAT,CAAca,IAAD,IAAU0C,kBAAkB,CAACtE,IAAnB,CAAwB4B,IAAI,CAAC2C,IAA7B,CAAvB;AACA,WAAKtE,QAAL,CAAc;AAAC2C,QAAAA,UAAU,EAAE0B;AAAb,OAAd,EAJoC,CAKpC;AACA;AACH,KAPD;AASA;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEK;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAMIpD,EAAAA,YAAY,CAACsD,MAAD,EAASC,OAAT,EAAkB;AAC1B,SAAK,MAAMC,GAAX,IAAkBD,OAAlB,EAA2B;AACvBD,MAAAA,MAAM,CAACE,GAAD,CAAN,GAAcD,OAAO,CAACC,GAAD,CAArB;AACH;;AACD,WAAOF,MAAP;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AAuIIG,EAAAA,QAAQ,GAAG;AACPC,IAAAA,MAAM,CAACC,IAAP,CAAa,GAAED,MAAM,CAACE,QAAP,CAAgBC,IAAK,iBAApC;AACH;;AAEDzD,EAAAA,cAAc,GAAG;AACb,QAAI,KAAK3B,KAAL,CAAWuC,cAAf,EAA+B,OAAO,eAAP;AAC/B,WAAO,yBAAP;AACH;;AAED8C,EAAAA,OAAO,GAAG;AACNnH,IAAAA,MAAM,CAAC2D,IAAP,CAAY,SAAZ;AACH;AAGD;;;AAuCAyD,EAAAA,eAAe,CAACC,aAAD,EAAgB;AAC3B,wBACI;AAAA,8BACI;AAAK,QAAA,SAAS,EAAErG,KAAK,CAACsG,MAAtB;AAAA,+BACI;AAAK,UAAA,SAAS,EAAEtG,KAAK,CAACuG,OAAtB;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,aAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAEvG,KAAK,CAACwG,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAMI;AAAK,YAAA,SAAS,EAAExG,KAAK,CAACwG,SAAtB;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,iBAAf;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAC,UAAf;AAAA,wCAAoC,KAAKjG,KAAL,CAAWkG,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAK,gBAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAgBI;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,iCACI;AAAQ,YAAA,SAAS,EAAExG,aAAa,CAACoG,aAAjC;AAAgD,YAAA,OAAO,EAAEA,aAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAMI;AAAS,UAAA,SAAS,EAAEpG,aAAa,CAACyG,KAAlC;AAAA,kCACI;AAAQ,YAAA,SAAS,EAAC,aAAlB;AAAA,mCACI;AAAK,cAAA,SAAS,EAAEzG,aAAa,CAAC0G,MAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAMI;AAAS,YAAA,SAAS,EAAC,iBAAnB;AAAA,oCACI;AAAK,cAAA,SAAS,EAAE1G,aAAa,CAAC2G,OAA9B;AAAA,yBACK,KAAKpC,cAAL,CAAoB,KAApB,CADL,+DAEI;AAAA;AAAA;AAAA;AAAA,sBAFJ,EAGK,KAAKA,cAAL,CAAoB,KAApB,CAHL,+DAII;AAAA;AAAA;AAAA;AAAA,sBAJJ,EAKM,KAAKlD,kBAAL,CAAwBK,GAAxB,CAA4B,KAA5B,MAAuC,KAAxC,gBACI;AAAA,2BACI,KAAK6C,cAAL,CAAoB,KAApB,CADJ,qEAEG;AAAA;AAAA;AAAA;AAAA,wBAFH;AAAA,8BADJ,GAIS,IATd;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAyBI;AAAQ,cAAA,OAAO,EAAE,KAAKd,MAAtB;AAA8B,cAAA,SAAS,EAAEzD,aAAa,CAACoG,aAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAzBJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ,EAiCKzD,OAAO,CAACC,GAAR,CAAY,KAAKvB,kBAAjB,CAjCL;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBJ;AAAA,oBADJ;AA6DH;;AACDuF,EAAAA,YAAY,GAAG;AACX,wBAAO,QAAC,UAAD;AAAY,MAAA,MAAM,EAAE,KAAKtG,KAAL,CAAWU,IAA/B;AACY,MAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWiD,UADjC;AAEa,MAAA,aAAa,EAAE,MAAM,KAAK3C,QAAL,CAAc;AAC/BqD,QAAAA,YAAY,EAAG,KAAK3D,KAAL,CAAW8C,OAAX,KAAuB,IAAxB,GAAgC,CAAhC,GAAoC;AADnB,OAAd;AAFlC;AAAA;AAAA;AAAA;AAAA,YAAP;AAKH;AAED;;;AACAkD,EAAAA,SAAS,GAAG;AACR,wBAAO,QAAC,gBAAD;AAAkB,MAAA,MAAM,EAAE,KAAKvG,KAAL,CAAWU,IAArC;AACkB,MAAA,aAAa,EAAE,MAAM,KAAKG,QAAL,CAAc;AAACqD,QAAAA,YAAY,EAAE;AAAf,OAAd;AADvC;AAAA;AAAA;AAAA;AAAA,YAAP;AAEH;AAED;AACJ;AACA;AACA;AACA;AACA;;AAEI;AACJ;AACA;;;AACIsC,EAAAA,SAAS,GAAG;AAAA;;AACR;AAACnE,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAK/B,KAAL,CAAWI,SAAzC;AAAoD;AACrD;AAAC,WAAKJ,KAAL,CAAWgE,UAAX,CAAsB5C,GAAtB,CAA0Ba,IAAI,IAC3BH,OAAO,CAACC,GAAR,CAAY,UAAUE,IAAI,CAACC,EAAf,GAAoB,UAApB,GAAiCD,IAAI,CAAC2C,IAAlD,CADH;AAC6D;AAC9D,UAAMsB,WAAW,GAAG,KAAKvE,cAAL,EAApB,CAJQ,CAKR;;AACA,wBAAQ;AAAA,iBACH,KAAK3B,KAAL,CAAWsC,oBAAX,iBACD,QAAC,aAAD;AAAe,QAAA,MAAM,EAAE,KAAKE,MAA5B;AAAoC,QAAA,OAAO,EAAE,KAAKf,YAAlD;AAAgE,QAAA,MAAM,EAAE,KAAKzB,KAAL,CAAW0B;AAAnF;AAAA;AAAA;AAAA;AAAA,cAFI,eAIJ;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,gCAEQ,QAAE,IAAF;AAAA,kCACI;AAAK,YAAA,EAAE,EAAC,MAAR;AAAA,oCACI,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAC,WAAhB;AAA4B,cAAA,KAAK,EAAC,SAAlC;AAA4C,cAAA,OAAO,EAAE,KAAKsD,QAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII,QAAC,UAAD;AAAA,2CAA2B,KAAKhF,KAAL,CAAW4B,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAKI,QAAC,UAAD;AAAA,8BAAc,KAAK5B,KAAL,CAAW8D,QAAX,IAAuB,6DAArC;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ,eAMI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANJ,eAOI,QAAC,UAAD;AAAA,+DAA+C,KAAKrE,KAAL,CAAW+E,IAA1D;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPJ,eAQI,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAC,WAAhB;AAA4B,cAAA,KAAK,EAAC,SAAlC;AAA4C,6BAAY,QAAxD;AAAiE,cAAA,IAAI,EAAE0B,WAAvE;AACQ,cAAA,KAAK,EAAEA,WADf;AAC4B,cAAA,OAAO,EAAE,KAAKzD,cAD1C;AAAA,wBAEKyD;AAFL;AAAA;AAAA;AAAA;AAAA,oBARJ,eAaI,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAC,WAAhB;AAA4B,cAAA,KAAK,EAAC,SAAlC;AAA4C,6BAAY,QAAxD;AAAiE,cAAA,IAAI,EAAC,oBAAtE;AACQ,cAAA,OAAO,EAAE,KAAKb,OADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAmBM,KAAKrF,KAAL,CAAWI,SAAX,KAAyB,EAAzB,IAA+B,KAAKJ,KAAL,CAAW4D,OAAX,KAAuB,EAAtD,IAA4D,KAAK5D,KAAL,CAAWsB,YAAvE,IAAuF,CAAC,KAAKtB,KAAL,CAAWuC,cAApG,iBACD;AAAK,YAAA,EAAE,EAAC,YAAR;AAAA,mCACI,QAAC,UAAD;AAAY,cAAA,SAAS,EAAE,KAAKvC,KAAL,CAAWI,SAAlC;AAA6C,cAAA,OAAO,EAAE,KAAKJ,KAAL,CAAWoB,GAAX,CAAeC,SAArE;AACY,cAAA,SAAS,EAAE,KAAKJ,SAD5B;AAEY,cAAA,YAAY,EAAE,KAAKjB,KAAL,CAAWsB,YAFrC;AAEmD,cAAA,IAAI,EAAE,KAAKtB,KAAL,CAAWsB,YAAX,CAAwB6E,SAFjF;AAGY,cAAA,EAAE,EAAE,KAAKnG,KAAL,CAAWsB,YAAX,CAAwB8E;AAHxC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBApBJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFR,EAgCY,KAAKpG,KAAL,CAAWoB,GAAX,CAAeC,SAAf,KAA6B,EAA7B,iBACA,QAAC,MAAD;AAAQ,UAAA,WAAW,EAAE,KAAK9C,eAA1B;AAA2C,UAAA,UAAU,2BAAE,KAAKyB,KAAL,CAAWsB,YAAb,0DAAE,sBAAyB8E,EAAhF;AACQ,UAAA,GAAG,EAAE,KAAKpG,KAAL,CAAWoB,GADxB;AAC6B,UAAA,IAAI,EAAE,KAAK3B,KAAL,CAAW4G,IAD9C;AACoD,UAAA,EAAE,EAAE,KAAKrG,KAAL,CAAWoG;AADnE;AAAA;AAAA;AAAA;AAAA,gBAjCZ;AAAA;AAAA;AAAA;AAAA;AAAA,cAJI;AAAA,oBAAR;AA0CH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AAKIE,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,gBAEQ,KAAKtG,KAAL,CAAW2D,YAAX,KAA4B,CAA5B,GAAgC,KAAKoC,YAAL,EAAhC,GACI,KAAK/F,KAAL,CAAW2D,YAAX,KAA4B,CAA5B,GAAgC,KAAKqC,SAAL,EAAhC,GACI,KAAKhG,KAAL,CAAW2D,YAAX,KAA4B,CAA5B,GAAgC,KAAK2B,eAAL,CAAqB,MAAM,KAAKhF,QAAL,CAAc;AACjEqD,QAAAA,YAAY,EAAG,KAAK3D,KAAL,CAAW6C,MAAX,KAAsB,IAAvB,GAA+B,CAA/B,GAAoC,KAAK7C,KAAL,CAAW8C,OAAX,KAAuB,IAAxB,GAAgC,CAAhC,GAAoC;AADpB,OAAd,CAA3B,CAAhC,GAGI,KAAKmD,SAAL;AAPpB,qBADJ;AAcH;;AA1hBuD;AAAvC3G,c,CAsBViH,W,GAAclH,Y;AAtBJC,c,CAwBVkH,S,GAAY;AACfrG,EAAAA,IAAI,EAAEhC,SAAS,CAACsI,MAAV,CAAiBC;AADR,C","sourcesContent":["import React, {useContext} from 'react'\nimport { socket } from '../../socket.js'\nimport PropTypes from 'prop-types';\nimport { generateHexes, generateRivers } from \"../map/MapUtil.js\"\nimport Bassin from \"../map/Bassin.js\"\nimport handleClickTile from '../controls/handleClickTileFarmer.js'\nimport ChangeTile from './ChangeTile.js'\nimport Menu from '../controls/Menu.js'\nimport { Button, Typography } from '@material-ui/core'\n//import CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\n//import CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport ConfirmDialog from \"../controls/ConfirmDialog.js\"\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport SetFarmers from \"../../Interface/Animator/SetFarmers\";\nimport SetTimeInterface from \"../../Interface/Animator/SetTimeInterface\";\nimport Settings from \"../../Interface/Animator/Settings\";\nimport Style from \"../../Interface/Header/Header.module.scss\";\nimport StyleStrategy from \"../../Interface/Strategy/Strategy.module.scss\";\nimport Checkbox from \"../../Interface/utils/Checkbox\";\nimport TimerContext from \"./timers-context\";\n\nexport default class AnimatorLoader extends React.Component {\n    /* \n        Input : props={name}\n                name: string : name of the player\n        \n        Syntax : <AnimatorLoader name=\"player's name\"/>\n    */\n    constructor(props) {\n        super(props)\n        this.state = {\n            interfaceCtx: 1,\n            lstPlayer: \"\", lstTile: \"\", map: {moreHexas: \"\", moreRivers: null}, mapReady: true, tour: -1, action: \"\",\n            disconnected: false, farmersPlaying: false, listPlayer: [], agriPlayer: [],\n            pAgris: false, pTimers: false, pNumber: false, allDefault: true, selected: new Set(),\n            finishTour: true, fileAgri: \"./settings/agris.txt\", fileTimers: \"./settings/timers.txt\",\n            timers: []\n        }\n        //this.addConvo = this.addConvo.bind(this)\n        this.handleClickTile = handleClickTile.bind(this)\n\n    }\n\n    static contextType = TimerContext\n\n    static propTypes = {\n        name: PropTypes.string.isRequired\n    }\n    /* \nFunction : addConvo\n\nSyntax  : boolean=addConvo(data)\n\nInput   : object following the next pattern\n            {\n                convoName : \"name of the conversation\",\n                player1 : boolean,\n                player2 : boolean\n                ...\n            }\n            playerN's represents the player's name and the value represents \n                    whether or not it is part of the conversation\n\nOutput  : the success of the function\n\nDescription : display the different components of the app\n\nAuthor : Hugo KELHETTER\n    \n*/\n    addConvo = (data) => {\n\n        if (data.convoName.length === 0) {\n            alert(\"vous devez entrer un nom\")\n            return false\n        }\n        for (const entry in this.state.lstConvo) {\n            if (entry === data.convoName) {\n                alert(\"Nom déjà pris\")\n                return false\n            }\n        }\n\n        let newConvo = []\n        const name = data.convoName\n        for (const entry in data.lstPlayer) {\n            if (!(entry === \"convoName\" || entry === \"lstConvo\")) {\n                if (data.lstPlayer[entry]) newConvo.push(entry)\n            }\n        }\n\n        if (newConvo.length > 0) {\n            this.setState({lstConvo: {...this.state.lstConvo, [name]: newConvo}})\n            return true\n        }\n        alert(\"Vous devez selectionner des joueurs\")\n        return false\n    }\n    componentWillMount = () => {\n        this.selectedCheckboxes = new Set();\n    }\n\n    toggleCheckbox = (label) => {\n        const newSelected = new Set();\n        if (this.selectedCheckboxes.has(label)) {\n            //this.setValueActivity(label, 0);\n            this.selectedCheckboxes.delete(label);\n            this.setState({selected: newSelected});\n\n        } else {\n            this.selectedCheckboxes.add(label);\n            this.setState({selected: newSelected});\n        }\n    }\n\n    /*\n        Function : componentDidMount\n\n        Description : retrieve the map and players's data\n\n        Author : Hugo KELHETTER\n \n    */\n    componentDidMount() {\n        socket.on(\"disconnect\", () => {\n            this.setState({disconnected: true});\n        })\n\n        socket.on(\"connect\", () => {\n            if (this.state.disconnected) {\n                socket.emit('reconnect', this.props.room, this.props.name, () => {\n                    this.setState({disconnected: false})\n                });\n            }\n        })\n\n        socket.emit(\"getCurrentGrid\", (response) => {\n            const newHexas = generateHexes(response)\n            let lstTile = newHexas[1]\n            const newRivers = generateRivers(newHexas[0])\n            //const tampon = this.createTampon(newHexas, this.state.map.player)\n            this.setState({\n                map: {...this.state.map, moreHexas: newHexas[0], moreRivers: newRivers, selectedTile: null},\n                lstTile\n            })\n\n        })\n        socket.emit(\"playersInRoom\", (response) => {\n            //console.log(\"RESPONSE\");\n            //console.log(response);\n            this.setState({listPlayer: response})\n            this.setState({lstPlayer: response})\n            //})\n        })\n\n        socket.emit(\"agriInRoom\", (response) => {\n            //console.log(\"RESPONSE\");\n            const agriculteursInRoom = []\n            response.map((item) => agriculteursInRoom.push(item.Name));\n            this.setState({agriPlayer: agriculteursInRoom})\n            //this.setState({agriPlayer: response})\n            //})\n        })\n\n        /*socket.emit(\"getSettings\", (response) => {\n            const s = response[0];\n            console.log(\"SETTINGS = \", s);\n            this.setState({\n                pAgris: s.PersonalizedAgris,\n                pTimers: s.PersonalizedTimers,\n                pNumber: s.PersonalizedNumber,\n                allDefault: s.DefaultData\n            })\n\n        })*/\n    }\n\n    /*\n        Function : updateObject\n\n        Syntax  : obj=updateObject(source,newData)\n\n        Input   : source : object : the object to update\n                  newData : object : the object containing new data\n\n        Output  : obj : object : an updated object\n\n        Description : update source with the subset of data contained in newData\n                        let source = {firstname:hugo,name:kelhetter} and newData={firstname:jhon}\n                        let newObject=updateObject(source,newData)\n                        newObject = {firstname:jhon,name:kelhetter}\n\n        Author : Hugo KELHETTER\n    \n    */\n    updateObject(source, newData) {\n        for (const key in newData) {\n            source[key] = newData[key]\n        }\n        return source\n    }\n\n    /*\n        Function : updateMap\n\n        Syntax  : updateMap(tileChange)\n\n        Input   : tileChange : object : new set of data for a tile of the map\n\n        Description : update the map with new data\n\n        Author : Hugo KELHETTER\n    \n    */\n\n    updateMap = (tileChange) => {\n        let tile = this.state.map.moreHexas[tileChange.selectedTile - 1]\n        delete tileChange.selectedTile\n        tile = this.updateObject(tile, tileChange)\n        this.setState({selectedTile: \"\"})\n    }\n    /* \n        Function : handleSubmit\n\n        Syntax  : handleSubmit()\n\n        Description : if mapReady == false then it starts the game for other players\n                      else it ends the turn\n\n        Author : Hugo KELHETTER\n    \n    */\n\n\n\n    /*getFinishTourPlayers() {\n        let finishBool = 0;\n        //if(this.state.lstPlayer && this.state.lstPlayer.length){\n        /*for(let i=0; i<this.state.lstPlayer.length; i++){\n            console.log(this.state.lstPlayer[i])\n            if(this.state.lstPlayer[i].Id !== 11){\n                socket.emit(\"getFinishTourPlayer\", this.state.lstPlayer[i].Id, (response) => {\n                    console.log(\"FINISH TOUR \" + this.state.lstPlayer[i].Id + \" : \", response.FinishTour);\n                    finishBool = finishBool + (response.FinishTour? 1: 0);\n                    console.log(\"FINISH TOUR \" + this.state.lstPlayer[i].Id + \" : \", finishBool)\n                })}\n        }\n        this.state.lstPlayer.map(item => {\n            if(item.Id !== 11){\n                socket.emit(\"getFinishTourPlayer\", item.Id, (response) => {\n                    //console.log(\"FINISH TOUR \" + item.Id + \" : \", response.FinishTour);\n                    finishBool = finishBool + (response.FinishTour? 1: 0);\n                    console.log(\"FINISH TOUR \" + item.Id + \" : \", finishBool)\n                })}\n        })\n        //}\n        setTimeout(() => {\n            console.log(\"FINISH BOOL = \", finishBool);\n        }, 500)\n        return finishBool;\n    }*/\n\n    numberPlayers = () => {\n        return this.state.lstPlayer.length - 1;\n    }\n\n    handleSubmit = () => {\n        /*         console.log(this.state.action)\n                switch (this.state.action) {\n                    case \"Commencer la partie\":\n                        this.setState({ mapReady: false })\n                        socket.emit(\"mapReady\")\n                        break;\n                    case \"Terminer la partie\":\n                        socket.emit(\"endGame\")\n                        break;\n                    default:\n                        socket.emit(\"nextTurn\", () => {\n                            socket.emit(\"getTurn\", (response) => {\n                                this.setState({ tour: response })\n                            })\n                        })\n                } */\n        const action = this.actionToString()\n        if (action === \"Finir les modifications\") {\n            if (this.state.tour === -1) {\n                socket.emit(\"mapReady\")\n                console.log(\"mapReady\")\n                this.setState({tour: 0})\n            } else {\n                socket.emit(\"inputPhase\")\n                console.log(\"inputphase\")\n            }\n        } else {\n            let finishBool = 0;\n            //if(this.state.lstPlayer && this.state.lstPlayer.length){\n            /*for(let i=0; i<this.state.lstPlayer.length; i++){\n                console.log(this.state.lstPlayer[i])\n                if(this.state.lstPlayer[i].Id !== 11){\n                    socket.emit(\"getFinishTourPlayer\", this.state.lstPlayer[i].Id, (response) => {\n                        console.log(\"FINISH TOUR \" + this.state.lstPlayer[i].Id + \" : \", response.FinishTour);\n                        finishBool = finishBool + (response.FinishTour? 1: 0);\n                        console.log(\"FINISH TOUR \" + this.state.lstPlayer[i].Id + \" : \", finishBool)\n                    })}\n            }*/\n            this.state.lstPlayer.map(item => {\n                if(item.Id !== 11){\n                    socket.emit(\"getFinishTourPlayer\", item.Id, (response) => {\n                        //console.log(\"FINISH TOUR \" + item.Id + \" : \", response.FinishTour);\n                        finishBool = finishBool + (response.FinishTour? 1: 0);\n                        console.log(\"FINISH TOUR \" + item.Id + \" : \", finishBool)\n                    })}\n            })\n            //}\n            setTimeout(() => {\n                console.log(\"FINISH BOOL = \", finishBool);\n                console.log(\"this.getFinishTourPlayers()\", finishBool);\n                console.log(\"this.numberPlayers\", this.numberPlayers());\n                if(finishBool === this.numberPlayers()){\n                    console.log(\"TOUR FINISHED\");\n                    //console.log(\"this.getFinishTourPlayers()\", finishBool);\n                    socket.emit(\"nextTurn\", () => {\n                        socket.emit(\"getTurn\", (response) => {\n                            console.log(response)\n                            this.setState({tour: response})\n                        })\n                    })\n                }\n            }, 500)\n            //return finishBool;\n        }\n        console.log(\"TOUR COURANT : \", this.state.tour);\n        this.setState({displayConfirmDialog: false, farmersPlaying: !this.state.farmersPlaying})\n    }\n    cancel = () => {\n        this.setState({displayConfirmDialog: false})\n    }\n    handleContinue = (event) => {\n        /* console.log(event.currentTarget, event.currentTarget.name)\n        this.setState({ farmersPlaying: !this.state.farmersPlaying })\n        if (!this.state.farmersPlaying) { socket.emit(\"inputPhase\", () => { }) } */\n        this.setState({action: event.currentTarget.name, displayConfirmDialog: true})\n    }\n\n    openTuto() {\n        window.open(`${window.location.href}tutorial?tuto=2`)\n    }\n\n    actionToString() {\n        if (this.state.farmersPlaying) return \"Finir le tour\"\n        return \"Finir les modifications\"\n    }\n\n    endGame() {\n        socket.emit(\"endGame\")\n    }\n\n\n    /* author Hossam ELOUATI */\n\n    submit = () => {\n        this.setState({\n            pAgris: this.selectedCheckboxes.has(\" 1.\"),\n            pTimers: this.selectedCheckboxes.has(\" 2.\"),\n            pNumber: this.selectedCheckboxes.has(\" 3.\"),\n            allDefault: false\n        })\n        console.log(this.state.pAgris,this.state.pTimers,this.state.pNumber,this.state.allDefault);\n        if(!this.state.pAgris) {\n            /* Submit les paramètres par défaut des agriculteurs */\n            /*console.log(defaultSettings(this.state.fileAgri, 8));*/\n            console.log(\"NUMBER AGRIS = \",this.state.agriPlayer.length)\n            socket.emit(\"defaultAgris\", this.state.agriPlayer.length, (response) => {\n                console.log(response);\n            });\n        }\n        if(!this.state.pTimers) {\n            socket.emit(\"defaultTimer\", (response) => {\n                this.context.updateUpdating(response[0]);\n                this.context.updateStrategy(response[1]);\n                this.context.updateActions(response[2]);\n                this.context.updateEvents(response[3]);\n                this.context.updateDebriefing(response[4]);\n                this.context.updateSatisfaction(response[5]);\n                this.context.updateResults(response[6])\n            });\n        }\n    }\n\n    createCheckbox = (label) => (\n        <>\n            <label htmlFor={\"agri\"}>\n                <Checkbox label={label} isChecked={ this.selectedCheckboxes.has(label)} handleCheckboxChange={this.toggleCheckbox} key={label}/>\n            </label>\n        </>\n    )\n\n    settingsOptions(nextInterface) {\n        return (\n            <>\n                <div className={Style.Header}>\n                    <div className={Style.Content}>\n                        <div className=\"text-center\">\n                            <div className={Style.TextColor}>\n                                Jeu Sérieux - Le Bassin de Moderbach\n                            </div>\n                        </div>\n                        <div className={Style.TextColor}>\n                            <div className=\"row text-center\">\n                                <div className=\"col-sm-6\">Pseudo : {this.props.pseudo}</div>\n                                <div className=\"col-sm-6\">Rôle : Animateur</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div>\n                    <div className=\"text-center\">\n                        <button className={StyleStrategy.nextInterface} onClick={nextInterface}>\n                            Passer à l'interface suivante\n                        </button>\n                    </div>\n                    <section className={StyleStrategy.none4}>\n                        <header className=\"text-center\">\n                            <div className={StyleStrategy.header}>\n                                Choisir entre ces options\n                            </div>\n                        </header>\n                        <section className=\"row text-center\">\n                            <div className={StyleStrategy.header2}>\n                                {this.createCheckbox(\" 1.\")} Personnaliser les rôles des agriculteurs\n                                <br/>\n                                {this.createCheckbox(\" 2.\")} Personnaliser les durées de chaque phase\n                                <br/>\n                                {(this.selectedCheckboxes.has(\" 1.\") === false) ?\n                                    (<>\n                                        {this.createCheckbox(\" 3.\")} Choisir un nombre pour chaque type d'agriculteurs\n                                        <br/>\n                                    </>): null}\n                                {/*(this.selectedCheckboxes.has(\" 3.\" === false)) ?\n                                        (<>\n                                            {this.createCheckbox(\" 4.\")} Définir les types d'agriculteurs aléatoirement\n                                        </>) : null\n                                    }\n                                    {(this.selectedCheckboxes.has(\" 4.\" === false)) ?\n                                        (<>\n                                            {this.createCheckbox(\" 3.\")} Choisir un nombre pour chaque type d'agriculteurs\n                                        </>) : null\n                                    }\n                                    <br/>\n                                    </br>) : null*/}\n\n                            </div>\n                            <button onClick={this.submit} className={StyleStrategy.nextInterface}>Valider</button>\n                        </section>\n                        {console.log(this.selectedCheckboxes)}\n                    </section>\n                </div>\n            </>\n        );\n    }\n    agriActivity() {\n        return <SetFarmers pseudo={this.props.name}\n                           listAgri={this.state.agriPlayer}\n                            nextInterface={() => this.setState({\n                                interfaceCtx: (this.state.pTimers === true) ? 3 : 4\n                            })}/>\n    }\n\n    /* author Hossam ELOUATI */\n    setTimers() {\n        return <SetTimeInterface pseudo={this.props.name}\n                                 nextInterface={() => this.setState({interfaceCtx: 4})}/>\n    }\n\n    /*settings() {\n        return <Settings pseudo={this.props.name} nextInterface={\n            () => this.setState({\n                    interfaceCtx: (this.state.pAgris === true) ? 2 : (this.state.pTimers === true) ? 3 : 4\n                })}/>\n    }*/\n\n    /*     Description : display the UI of the animator : the map, and controls over the map and the game in general\n    *       Author : Hugo KELHETTER\n    * */\n    principal() {\n        {console.log(\"LIST PLAYER = \", this.state.lstPlayer)}\n        {this.state.listPlayer.map(item => (\n            console.log(\"ID : \" + item.Id + \" Name : \" + item.Name)))}\n        const buttonValue = this.actionToString()\n        //const buttonValue = this.state.mapReady ? \"Commencer la partie\" : `Terminer le tour ${this.state.tour}`\n        return (<>\n            {this.state.displayConfirmDialog &&\n            <ConfirmDialog cancel={this.cancel} confirm={this.handleSubmit} action={this.state.action}/>}\n\n            <div className=\"App\">\n                {\n                    < Menu>\n                        <div id=\"menu\">\n                            <Button variant=\"contained\" color=\"primary\" onClick={this.openTuto}>\n                                Aide\n                            </Button>\n                            <Typography>tour actuel : {this.state.tour}</Typography>\n                            <Typography> {this.state.mapReady && \"Vous pouvez modifier la carte avant le début de la partie. \"}</Typography>\n                            <Typography> Cliquez sur une case pour apporter des modifications</Typography>\n                            <Typography> L'identifiant de la partie est : {this.props.room}</Typography>\n                            <Button variant=\"contained\" color=\"primary\" data-testid=\"submit\" name={buttonValue}\n                                    value={buttonValue} onClick={this.handleContinue}>\n                                {buttonValue}\n                            </Button>\n\n                            <Button variant=\"contained\" color=\"primary\" data-testid=\"submit\" name=\"Terminer la partie\"\n                                    onClick={this.endGame}>\n                                Terminer la partie\n                            </Button>\n                        </div>\n                        {(this.state.lstPlayer !== \"\" && this.state.lstTile !== \"\" && this.state.selectedTile && !this.state.farmersPlaying) &&\n                        <div id=\"changeTile\">\n                            <ChangeTile lstPlayer={this.state.lstPlayer} lstTile={this.state.map.moreHexas}\n                                        updateMap={this.updateMap}\n                                        selectedTile={this.state.selectedTile} type={this.state.selectedTile.className}\n                                        id={this.state.selectedTile.id}/>\n                        </div>\n                        }\n                    </Menu>\n                }\n                    {\n                        this.state.map.moreHexas !== \"\" &&\n                        <Bassin handleClick={this.handleClickTile} selectedId={this.state.selectedTile?.id}\n                                map={this.state.map} role={this.props.role} id={this.state.id}/>\n                    }\n            </div>\n        </>);\n    }\n\n    /*\n    Function : render\n\n    Syntax  : render()\n\n    Description : display the UI of the animator : the map, and controls over the map and the game in general\n\n    Author : Hossam ELOUATI\n \n*/\n    render() {\n        return (\n            <>\n                {\n                    this.state.interfaceCtx === 2 ? this.agriActivity() :\n                        this.state.interfaceCtx === 3 ? this.setTimers() :\n                            this.state.interfaceCtx === 1 ? this.settingsOptions(() => this.setState({\n                                    interfaceCtx: (this.state.pAgris === true) ? 2 : (this.state.pTimers === true) ? 3 : 4\n                                })):\n                                this.principal()\n                }\n                {/*{console.log(\"STATE ID = \" + this.state.id + \"\\nROLE = \"+this.props.role)}\n                <Updating ut={23} ub={3} oldUb={-1} oldUt={0} formations={[1, 0, 9, 1]} role={this.props.role} h={0} m={0} s={20}\n                   pseudo={this.props.name} bassin={nameSubBassin(getSubBassin(this.state.id))} numeroPhase={1} tour={this.state.tour}/>);*/}\n            </> )\n    }\n}"]},"metadata":{},"sourceType":"module"}