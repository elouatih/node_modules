{"ast":null,"code":"import _classCallCheck from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import MeetingTime from\"../utils/MeetingTime\";import CallingList from\"./CallingList\";import Style from\"../Updating/Updating.module.scss\";import StyleStrategy from\"./Strategy.module.scss\";import ImageArgent from\"../Updating/argent.png\";import ImageTemps from\"../Updating/montre_circulaire.png\";import ImageRDV from\"./priseRDV.png\";import Sablier from\"./sablier.png\";import StopWatch from\"./cadre.png\";import Header from\"../Header/Header\";import formationId from\"../utils/formationId\";import MenuRight from\"../MenuRight/MenuRight\";import StyleButton from\"../utils/button.module.scss\";import{socket}from\"../../socket\";import calculateTime from\"../utils/calculateTime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Strategy=/*#__PURE__*/function(_Component){_inherits(Strategy,_Component);var _super=_createSuper(Strategy);function Strategy(props){var _this;_classCallCheck(this,Strategy);_this=_super.call(this,props);_this.componentDidMount=function(){socket.emit(\"getTimerStrategy\",function(response){console.log(response);console.log(calculateTime(response));_this.setState({timer:calculateTime(response)});console.log(\"State : \",_this.state.timer);});/*socket.emit(\"getOrderWaitingList\", this.props.pseudo, this.props.role, (response) => {\n            //this.setState({});\n            setTimeout( () => {this.setState({available: true, waitingPerson: response})}, 1000)\n            //console.log(\"Waiting = \", this.state.waitingPerson);\n        })*/ /*if(this.props.role === 0 || this.props.role === 2) {\n            socket.emit(\"getCallingList\", this.props.pseudo, (response) => {\n                console.log(\"LIST = \", response);\n                this.setState({callingList: response});\n            })\n        }*/};_this.gettingList=function(){if(_this.props.role===0||_this.props.role===2){socket.emit(\"getCallingList\",_this.props.pseudo,function(response){console.log(\"LIST = \",response);_this.setState({callingList:response});console.log(\"LIST CALLING = \",_this.state.callingList);});_this.setState({availableList:true});}};_this.handleSubmit=function(){_this.submit();};_this.state={pseudo:_this.props.pseudo,role:_this.props.role,ancient:props.role===0?\"le gestionnaire\":\"l'élu\",child:props.role===0?\"agriculteurs\":\"élus\",timer:[],waitingPerson:0,onClickCalling:false,isCalling:false,orderReady:false,available:true,availableList:false,callingList:[\"\",\"\",\"\"],toFinish:0};setTimeout(function(){_this.setState({orderReady:_this.state.isCalling});},1000);var x=setInterval(function(){var y;if(_this.state.timer.length&&_this.state.timer){y=_this.state.timer[0]*3600+_this.state.timer[1]*60+_this.state.timer[2]-_this.state.toFinish;}else{y=1;}//const y = this.state.finished - this.state.toFinish;\nif(y<=0){clearInterval(x);}_this.setState({toFinish:_this.state.toFinish+10000});_this.gettingList();},10000);return _this;}_createClass(Strategy,[{key:\"submit\",value:function submit(){var _this2=this;socket.emit(\"rdv\",this.props.pseudo,this.props.role,function(response){console.log(\"SUBMIT = \",response);_this2.setState({waitingPerson:response});});this.setState({isCalling:true});}},{key:\"callingPlayers\",value:function callingPlayers(){//setTimeout( () => {this.setState({availableList: true})}, 1000)\nreturn/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"header\",{className:StyleStrategy.header2,children:[\"Les \",this.state.child,\" vous appelent\"]}),/*#__PURE__*/_jsx(\"ul\",{children:this.state.callingList.map(function(f,index){return/*#__PURE__*/_jsxs(\"li\",{className:StyleStrategy.callingPlayer,children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:f}),\" \"]},index);})})]});/*return (\n            <section>\n                <header className={StyleStrategy.header2}>\n                    Les {this.state.child} vous appelant\n                </header>\n                <ul>\n                    {this.props.listPlayers.map((f, index) =>\n                        (<li className={StyleStrategy.callingPlayer}> <b>{f}</b> </li>)\n                    )}\n                </ul>\n            </section>\n        )*/}},{key:\"renderWaiting\",value:function renderWaiting(){if(this.state.isCalling){return/*#__PURE__*/_jsxs(\"div\",{className:StyleStrategy.prendreRDV,children:[\"Vous \\xEAtes \",/*#__PURE__*/_jsx(\"b\",{children:this.state.waitingPerson+1}),\" \\xE8me en liste d'attente\"]});}else{return/*#__PURE__*/_jsx(\"div\",{className:StyleStrategy.prendreRDV,children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{onClick:this.handleSubmit,src:ImageRDV,className:StyleStrategy.RDV,alt:\"/\"})}),/*#__PURE__*/_jsx(\"li\",{className:StyleStrategy.texte2,children:\"Prendre un rendez-vous\"})]})});}}},{key:\"renderRDV\",value:function renderRDV(){/* ELU */if(this.props.role===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"row text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-5 border-right border-dark\",children:this.renderWaiting()}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-7\",children:this.callingPlayers()})]});}/* GESTIONNAIRE */else if(this.props.role===2){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:this.callingPlayers()});}/* AGRI */else if(this.props.role===1){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:this.renderWaiting()});}else{return null;}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{tour:this.props.tour,pseudo:this.props.pseudo,bassin:this.props.bassin,role:this.props.role,numeroPhase:2,h:this.state.timer[0],m:this.state.timer[1],s:this.state.timer[2],finishEvent:this.props.onClickEvent}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-2\",children:/*#__PURE__*/_jsx(MenuRight,{ut:this.props.ut,ub:this.props.ub,formations:this.props.formations,role:this.props.role,pseudo:this.props.pseudo})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-10\",children:[/*#__PURE__*/_jsxs(\"section\",{className:StyleStrategy.none,children:[/*#__PURE__*/_jsx(\"header\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:StyleStrategy.header,children:\"Service de prise de rendez-vous\"})}),this.renderRDV()]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.props.onClickEvent,className:\"btn btn-small btn-primary\",children:\"Next\"})]})]})]});}}]);return Strategy;}(Component);export{Strategy as default};","map":{"version":3,"sources":["/home/elouati/Bureau/projet_working/client/src/Interface/Strategy/Strategy.js"],"names":["React","Component","MeetingTime","CallingList","Style","StyleStrategy","ImageArgent","ImageTemps","ImageRDV","Sablier","StopWatch","Header","formationId","MenuRight","StyleButton","socket","calculateTime","Strategy","props","componentDidMount","emit","response","console","log","setState","timer","state","gettingList","role","pseudo","callingList","availableList","handleSubmit","submit","ancient","child","waitingPerson","onClickCalling","isCalling","orderReady","available","toFinish","setTimeout","x","setInterval","y","length","clearInterval","header2","map","f","index","callingPlayer","prendreRDV","RDV","texte2","renderWaiting","callingPlayers","tour","bassin","onClickEvent","ut","ub","formations","none","header","renderRDV"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport MeetingTime from \"../utils/MeetingTime\";\nimport CallingList from \"./CallingList\";\nimport Style from \"../Updating/Updating.module.scss\";\nimport StyleStrategy from \"./Strategy.module.scss\";\nimport ImageArgent from \"../Updating/argent.png\";\nimport ImageTemps from \"../Updating/montre_circulaire.png\";\nimport ImageRDV from \"./priseRDV.png\";\nimport Sablier from \"./sablier.png\";\nimport StopWatch from \"./cadre.png\";\nimport Header from \"../Header/Header\";\nimport formationId from \"../utils/formationId\";\nimport MenuRight from \"../MenuRight/MenuRight\";\nimport StyleButton from \"../utils/button.module.scss\";\nimport {socket} from \"../../socket\";\nimport calculateTime from \"../utils/calculateTime\";\n\nexport default class Strategy extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            pseudo: this.props.pseudo,\n            role: this.props.role,\n            ancient: (props.role === 0 ? \"le gestionnaire\" : \"l'élu\"),\n            child: (props.role === 0) ? \"agriculteurs\" : \"élus\",\n            timer: [],\n            waitingPerson: 0,\n            onClickCalling: false,\n            isCalling: false,\n            orderReady: false,\n            available: true,\n            availableList: false,\n            callingList: [\"\", \"\", \"\"],\n            toFinish: 0\n        }\n\n        setTimeout( () => {this.setState({orderReady: this.state.isCalling})}, 1000)\n        const x = setInterval(() => {\n            let y;\n            if(this.state.timer.length && this.state.timer) {\n                y = this.state.timer[0]*3600 + this.state.timer[1]*60 + this.state.timer[2] - this.state.toFinish;\n            }\n            else {\n                y = 1;\n            }\n            //const y = this.state.finished - this.state.toFinish;\n            if( y <= 0) {\n                clearInterval(x);\n            }\n            this.setState({toFinish: this.state.toFinish + 10000});\n            this.gettingList()\n        }, 10000)\n    }\n\n    componentDidMount = () =>  {\n\n        socket.emit(\"getTimerStrategy\", (response) => {\n            console.log(response);\n            console.log(calculateTime(response));\n            this.setState({timer: calculateTime(response)});\n            console.log(\"State : \", this.state.timer);\n        })\n\n        /*socket.emit(\"getOrderWaitingList\", this.props.pseudo, this.props.role, (response) => {\n            //this.setState({});\n            setTimeout( () => {this.setState({available: true, waitingPerson: response})}, 1000)\n            //console.log(\"Waiting = \", this.state.waitingPerson);\n        })*/\n\n        /*if(this.props.role === 0 || this.props.role === 2) {\n            socket.emit(\"getCallingList\", this.props.pseudo, (response) => {\n                console.log(\"LIST = \", response);\n                this.setState({callingList: response});\n            })\n        }*/\n    }\n\n    gettingList = () => {\n        if (this.props.role === 0 || this.props.role === 2) {\n            socket.emit(\"getCallingList\", this.props.pseudo, (response) => {\n                console.log(\"LIST = \", response);\n                this.setState({callingList: response});\n                console.log(\"LIST CALLING = \", this.state.callingList);\n            })\n            this.setState({availableList: true});\n        }\n    }\n\n    submit() {\n        socket.emit(\"rdv\", this.props.pseudo, this.props.role, (response => {\n            console.log(\"SUBMIT = \", response);\n            this.setState({waitingPerson: response})\n        }));\n        this.setState({isCalling: true})\n    }\n\n    handleSubmit = () => {this.submit()}\n\n    callingPlayers() {\n        //setTimeout( () => {this.setState({availableList: true})}, 1000)\n        return (<section>\n            <header className={StyleStrategy.header2}>\n                Les {this.state.child} vous appelent\n            </header>\n            <ul>\n                {this.state.callingList.map((f, index) =>\n                    <li key={index} className={StyleStrategy.callingPlayer}> <b>{f}</b> </li>\n                )}\n            </ul>\n        </section>)\n        /*return (\n            <section>\n                <header className={StyleStrategy.header2}>\n                    Les {this.state.child} vous appelant\n                </header>\n                <ul>\n                    {this.props.listPlayers.map((f, index) =>\n                        (<li className={StyleStrategy.callingPlayer}> <b>{f}</b> </li>)\n                    )}\n                </ul>\n            </section>\n        )*/\n    }\n\n    renderWaiting() {\n        if(this.state.isCalling) {\n            return (<div className={StyleStrategy.prendreRDV}>\n                        Vous êtes <b>{this.state.waitingPerson + 1}</b> ème en liste d'attente\n                    </div>)\n        } else {\n            return (\n                <div className={StyleStrategy.prendreRDV}>\n                    <ul>\n                        <li><img onClick={this.handleSubmit} src={ImageRDV} className={StyleStrategy.RDV} alt={\"/\"}/></li>\n                        <li className={StyleStrategy.texte2}>Prendre un rendez-vous</li>\n                    </ul>\n                </div>\n                )\n        }\n\n    }\n\n    renderRDV() {\n        /* ELU */\n        if(this.props.role === 0) {\n            return (\n                <div className=\"row text-center\">\n                    <div className=\"col-sm-5 border-right border-dark\">\n                        {this.renderWaiting()}\n                    </div>\n                    <div className={\"col-sm-7\"}>\n                        {this.callingPlayers()}\n                    </div>\n                </div>\n            )\n        } /* GESTIONNAIRE */\n        else if(this.props.role === 2) {\n            return (<div className=\"text-center\">\n                {this.callingPlayers()}\n            </div>);\n        } /* AGRI */\n        else if(this.props.role === 1) {\n            return (<div className=\"text-center\">\n                {this.renderWaiting()}\n            </div>)\n        }\n        else {return null;}\n    }\n\n    render() {\n        return (\n            <>\n                <Header tour={this.props.tour} pseudo={this.props.pseudo} bassin={this.props.bassin} role={this.props.role} numeroPhase={2}  h={this.state.timer[0]} m={this.state.timer[1]} s={this.state.timer[2]}\n                        finishEvent={this.props.onClickEvent}/>\n                <div className=\"row\">\n                    <div className=\"col-sm-2\">\n                        <MenuRight ut={this.props.ut} ub={this.props.ub} formations={this.props.formations} role={this.props.role} pseudo={this.props.pseudo}/>\n                    </div>\n                    <div className=\"col-sm-10\">\n                        <section className={StyleStrategy.none}>\n                            <header className=\"text-center\">\n                                <div className={StyleStrategy.header}>\n                                    Service de prise de rendez-vous\n                                </div>\n                            </header>\n                            {this.renderRDV()}\n                        </section>\n                        <button onClick={this.props.onClickEvent} className={\"btn btn-small btn-primary\"}>Next</button>\n                    </div>\n                </div>\n            </>\n\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}