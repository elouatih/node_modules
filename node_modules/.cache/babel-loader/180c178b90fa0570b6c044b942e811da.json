{"ast":null,"code":"/* \n    Function : handleClickTile\n\n    Syntax  : handleClickTile(h)\n        \n    Input   : h : data of the selectedTile\n        \n    Description : \n        change the state of selectedTile based on which tile is clicked and the current state\n        if the current state's id is equal to h's id, the state is set to null\n        else it is updated to h's data     \n\n    Author : Hugo KELHETTER\n*/\nimport { socket } from \"../../socket\";\nimport isIncluded from \"../../Interface/utils/isIncluded\";\n\nfunction handleClickTile(h) {\n  var _this$state$selectedT;\n\n  console.log(\"SELECTED ID : \", this.state.selectedTile);\n\n  if (isIncluded(h.props.id, this.state.selectedTile)) {\n    this.setState({\n      selectedTile: this.state.selectedTile.remo\n    });\n  }\n\n  if (h.props.id === ((_this$state$selectedT = this.state.selectedTile) === null || _this$state$selectedT === void 0 ? void 0 : _this$state$selectedT.id)) {\n    this.setState({\n      selectedTile: null\n    });\n  } else {\n    var _this$state$selectedT2;\n\n    this.setState({\n      selectedTile: h.props\n    });\n    console.log(this.state.id);\n    console.log(\"SELECTED TILE \", (_this$state$selectedT2 = this.state.selectedTile) === null || _this$state$selectedT2 === void 0 ? void 0 : _this$state$selectedT2.id);\n\n    if (this.props.role === 1) {\n      socket.emit(\"getPlayerActivity\", this.state.id, h.props.id, response => {\n        console.log(\"GET PLAYER ACTIVITY IS : \", response[0]); //let { selectedTile } = this.state;\n\n        this.setState({\n          selectedTile: { ...this.state.selectedTile,\n            practice: response[0].practice\n          }\n        }); //console.log(this.state.selectedTile.practice);\n\n        /*const newSelectedTile = this.state.selectedTile;\n        //console.log(newSelectedTile);\n        //newSelectedTile.practice = response[0].practice;\n        this.setState({[this.state.selectedTile.practice]: response[0].practice});\n        console.log(this.state.selectedTile)*/\n      });\n    }\n  }\n}\n\nexport default handleClickTile;","map":{"version":3,"sources":["/home/elouati/Bureau/projet_working/client/src/Game/controls/handleClickTileFarmer.js"],"names":["socket","isIncluded","handleClickTile","h","console","log","state","selectedTile","props","id","setState","remo","role","emit","response","practice"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,MAAR,QAAqB,cAArB;AACA,OAAOC,UAAP,MAAuB,kCAAvB;;AAEA,SAASC,eAAT,CAAyBC,CAAzB,EAA4B;AAAA;;AACxBC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKC,KAAL,CAAWC,YAAzC;;AACA,MAAGN,UAAU,CAACE,CAAC,CAACK,KAAF,CAAQC,EAAT,EAAa,KAAKH,KAAL,CAAWC,YAAxB,CAAb,EAAoD;AAEhD,SAAKG,QAAL,CAAc;AAACH,MAAAA,YAAY,EAAE,KAAKD,KAAL,CAAWC,YAAX,CAAwBI;AAAvC,KAAd;AACH;;AACD,MAAIR,CAAC,CAACK,KAAF,CAAQC,EAAR,+BAAe,KAAKH,KAAL,CAAWC,YAA1B,0DAAe,sBAAyBE,EAAxC,CAAJ,EAAgD;AAC5C,SAAKC,QAAL,CAAc;AAAEH,MAAAA,YAAY,EAAE;AAAhB,KAAd;AACH,GAFD,MAGK;AAAA;;AACD,SAAKG,QAAL,CAAc;AAAEH,MAAAA,YAAY,EAAEJ,CAAC,CAACK;AAAlB,KAAd;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWG,EAAvB;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,4BAA8B,KAAKC,KAAL,CAAWC,YAAzC,2DAA8B,uBAAyBE,EAAvD;;AACA,QAAG,KAAKD,KAAL,CAAWI,IAAX,KAAoB,CAAvB,EAAyB;AACrBZ,MAAAA,MAAM,CAACa,IAAP,CAAY,mBAAZ,EAAiC,KAAKP,KAAL,CAAWG,EAA5C,EAAgDN,CAAC,CAACK,KAAF,CAAQC,EAAxD,EAA6DK,QAAQ,IAAI;AACrEV,QAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCS,QAAQ,CAAC,CAAD,CAAjD,EADqE,CAErE;;AACA,aAAKJ,QAAL,CAAc;AACVH,UAAAA,YAAY,EAAG,EACX,GAAG,KAAKD,KAAL,CAAWC,YADH;AAEXQ,YAAAA,QAAQ,EAAED,QAAQ,CAAC,CAAD,CAAR,CAAYC;AAFX;AADL,SAAd,EAHqE,CASrE;;AACA;AAChB;AACA;AACA;AACA;AACa,OAfD;AAgBH;AACJ;AACJ;;AACD,eAAeb,eAAf","sourcesContent":["/* \n    Function : handleClickTile\n\n    Syntax  : handleClickTile(h)\n        \n    Input   : h : data of the selectedTile\n        \n    Description : \n        change the state of selectedTile based on which tile is clicked and the current state\n        if the current state's id is equal to h's id, the state is set to null\n        else it is updated to h's data     \n\n    Author : Hugo KELHETTER\n*/\nimport {socket} from \"../../socket\";\nimport isIncluded from \"../../Interface/utils/isIncluded\";\n\nfunction handleClickTile(h) {\n    console.log(\"SELECTED ID : \", this.state.selectedTile)\n    if(isIncluded(h.props.id, this.state.selectedTile)) {\n\n        this.setState({selectedTile: this.state.selectedTile.remo})\n    }\n    if (h.props.id === this.state.selectedTile?.id) {\n        this.setState({ selectedTile: null })\n    }\n    else {\n        this.setState({ selectedTile: h.props })\n        console.log(this.state.id);\n        console.log(\"SELECTED TILE \", this.state.selectedTile?.id);\n        if(this.props.role === 1){\n            socket.emit(\"getPlayerActivity\", this.state.id, h.props.id, (response => {\n                console.log(\"GET PLAYER ACTIVITY IS : \", response[0]);\n                //let { selectedTile } = this.state;\n                this.setState({\n                    selectedTile : {\n                        ...this.state.selectedTile,\n                        practice: response[0].practice\n                    }\n                })\n                //console.log(this.state.selectedTile.practice);\n                /*const newSelectedTile = this.state.selectedTile;\n                //console.log(newSelectedTile);\n                //newSelectedTile.practice = response[0].practice;\n                this.setState({[this.state.selectedTile.practice]: response[0].practice});\n                console.log(this.state.selectedTile)*/\n            }))\n        }\n    }\n}\nexport default handleClickTile"]},"metadata":{},"sourceType":"module"}