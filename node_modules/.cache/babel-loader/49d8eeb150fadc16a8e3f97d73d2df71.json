{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/elouati/Bureau/projet_working/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Checkbox from\"../utils/Checkbox\";import StyleStrategy from\"../Strategy/Strategy.module.scss\";import{socket}from\"../../socket\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FarmerActivity=/*#__PURE__*/function(_Component){_inherits(FarmerActivity,_Component);var _super=_createSuper(FarmerActivity);function FarmerActivity(){var _this;_classCallCheck(this,FarmerActivity);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={items:[\"Polyculture\",\"Verger\",\"Bauvage\",\"Maréchage\"],selected:new Set(),values:[0,0,0,0],valuePolyculture:0,valueVerger:0,valueBauvage:0,valueMarechage:0};_this.getCultures=function(){return[parseInt(_this.state.valuePolyculture),parseInt(_this.state.valueVerger),parseInt(_this.state.valueBauvage),parseInt(_this.state.valueMarechage)];};_this.labelToIndex=function(label){return label===\"Polyculture\"?0:label===\"Verger\"?1:label===\"Bauvage\"?2:label===\"Maréchage\"?3:-1;};_this.labelToValue=function(label){return label===\"Polyculture\"?_this.state.valuePolyculture:label===\"Verger\"?_this.state.valueVerger:label===\"Bauvage\"?_this.state.valueBauvage:label===\"Maréchage\"?_this.state.valueMarechage:-1;};_this.setValueActivity=function(label,value){if(_this.labelToIndex(label)===0){_this.setState({valuePolyculture:value});}if(_this.labelToIndex(label)===1){_this.setState({valueVerger:value});}if(_this.labelToIndex(label)===2){_this.setState({valueBauvage:value});}if(_this.labelToIndex(label)===3){_this.setState({valueMarechage:value});}};_this.componentWillMount=function(){_this.selectedCheckboxes=new Set();};_this.getValues=function(){return _this.state.values;};_this.toggleCheckbox=function(label){var newSelected=new Set();if(_this.selectedCheckboxes.has(label)){_this.setValueActivity(label,0);_this.selectedCheckboxes.delete(label);_this.setState({selected:newSelected});}else{_this.selectedCheckboxes.add(label);_this.setState({selected:newSelected});}};_this.handleFormSubmit=function(formSubmitEvent){formSubmitEvent.preventDefault();var _iterator=_createForOfIteratorHelper(_this.selectedCheckboxes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var checkbox=_step.value;console.log(checkbox,'is selected.');console.log('values are',[_this.state.valuePolyculture,_this.state.valueVerger,_this.state.valueBauvage,_this.state.valueMarechage]);}}catch(err){_iterator.e(err);}finally{_iterator.f();}socket.emit(\"activities\",_this.props.x,_this.state.valuePolyculture,_this.state.valueVerger,_this.state.valueBauvage,_this.state.valueMarechage,function(response){console.log(response);});console.log(\"Activities\");};_this.handleChange=function(event){if(_this.labelToIndex(event.target.id)===0){_this.setState({valuePolyculture:event.target.value});}if(_this.labelToIndex(event.target.id)===1){_this.setState({valueVerger:event.target.value});}if(_this.labelToIndex(event.target.id)===2){_this.setState({valueBauvage:event.target.value});}if(_this.labelToIndex(event.target.id)===3){_this.setState({valueMarechage:event.target.value});}};_this.createCheckbox=function(label){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"agri\",children:/*#__PURE__*/_jsx(Checkbox,{label:label,handleCheckboxChange:_this.toggleCheckbox},label)}),_this.selectedCheckboxes.has(label)?/*#__PURE__*/_jsxs(\"form\",{onSubmit:_this.handleFormSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:label,name:\"tentacles\",onChange:_this.handleChange,min:\"1\",max:\"5\",value:_this.labelToValue(label)}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Valider\"})]}):null]});};_this.createCheckboxes=function(){return _this.state.items.map(function(label){return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:_this.createCheckbox(label)});});};return _this;}_createClass(FarmerActivity,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"header\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:StyleStrategy.header2,children:[\"Agriculteur : \",this.props.x]})}),/*#__PURE__*/_jsx(\"div\",{className:StyleStrategy.header3,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row text-center\",children:[this.createCheckboxes(),console.log('Activity of '+this.props.x+' are '+this.getCultures())]})})]});}}]);return FarmerActivity;}(Component);export default FarmerActivity;","map":{"version":3,"sources":["/home/elouati/Bureau/projet_working/client/src/Interface/Animator/FarmerActivity.js"],"names":["React","Component","Checkbox","StyleStrategy","socket","FarmerActivity","state","items","selected","Set","values","valuePolyculture","valueVerger","valueBauvage","valueMarechage","getCultures","parseInt","labelToIndex","label","labelToValue","setValueActivity","value","setState","componentWillMount","selectedCheckboxes","getValues","toggleCheckbox","newSelected","has","delete","add","handleFormSubmit","formSubmitEvent","preventDefault","checkbox","console","log","emit","props","x","response","handleChange","event","target","id","createCheckbox","createCheckboxes","map","header2","header3"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Checkbox from \"../utils/Checkbox\";\nimport StyleStrategy from \"../Strategy/Strategy.module.scss\";\nimport {socket} from \"../../socket\";\n\nclass FarmerActivity extends Component {\n    state = {\n        items: [\"Polyculture\", \"Verger\", \"Bauvage\", \"Maréchage\"],\n        selected: new Set(),\n        values: [0, 0, 0, 0],\n        valuePolyculture : 0,\n        valueVerger: 0,\n        valueBauvage: 0,\n        valueMarechage: 0\n    }\n\n    getCultures = () => {\n        return ([parseInt(this.state.valuePolyculture),\n                    parseInt(this.state.valueVerger),\n                        parseInt(this.state.valueBauvage),\n                            parseInt(this.state.valueMarechage)])\n    }\n\n    labelToIndex = (label) => {\n        return (\n            label === \"Polyculture\" ? 0 :\n                label === \"Verger\" ? 1 :\n                    label === \"Bauvage\" ? 2 :\n                        label === \"Maréchage\" ? 3 :\n                            -1\n        )\n    }\n\n    labelToValue = (label) => {\n        return (\n            label === \"Polyculture\" ? this.state.valuePolyculture :\n                label === \"Verger\" ? this.state.valueVerger :\n                    label === \"Bauvage\" ? this.state.valueBauvage :\n                        label === \"Maréchage\" ? this.state.valueMarechage :\n                            -1\n        )\n    }\n\n    setValueActivity = (label, value) => {\n        if (this.labelToIndex(label) === 0) {this.setState({valuePolyculture: value})}\n        if (this.labelToIndex(label) === 1) {this.setState({valueVerger: value})}\n        if (this.labelToIndex(label) === 2) {this.setState({valueBauvage: value})}\n        if (this.labelToIndex(label) === 3) {this.setState({valueMarechage: value})}\n    }\n\n    componentWillMount = () => {\n        this.selectedCheckboxes = new Set();\n    }\n\n    getValues = () => {\n        return this.state.values;\n    }\n\n    toggleCheckbox = (label) => {\n        const newSelected = new Set();\n        if (this.selectedCheckboxes.has(label)) {\n            this.setValueActivity(label, 0);\n            this.selectedCheckboxes.delete(label);\n            this.setState({selected: newSelected});\n\n        } else {\n            this.selectedCheckboxes.add(label);\n            this.setState({selected: newSelected});\n        }\n    }\n\n    handleFormSubmit = formSubmitEvent => {\n        formSubmitEvent.preventDefault();\n\n        for (const checkbox of this.selectedCheckboxes) {\n            console.log(checkbox, 'is selected.');\n            console.log('values are', [this.state.valuePolyculture,\n                                        this.state.valueVerger,\n                                        this.state.valueBauvage,\n                                        this.state.valueMarechage])\n        }\n        socket.emit(\"activities\", this.props.x, this.state.valuePolyculture, this.state.valueVerger,\n            this.state.valueBauvage, this.state.valueMarechage, (response) => {\n                console.log(response);})\n        console.log(\"Activities\");\n    }\n\n    handleChange = (event) => {\n        if (this.labelToIndex(event.target.id) === 0) {this.setState({valuePolyculture: event.target.value})}\n        if (this.labelToIndex(event.target.id) === 1) {this.setState({valueVerger: event.target.value})}\n        if (this.labelToIndex(event.target.id) === 2) {this.setState({valueBauvage: event.target.value})}\n        if (this.labelToIndex(event.target.id) === 3) {this.setState({valueMarechage: event.target.value})}\n\n    }\n\n    createCheckbox = (label) => (\n        <>\n            <label htmlFor={\"agri\"}>\n                <Checkbox label={label} handleCheckboxChange={this.toggleCheckbox} key={label}/>\n            </label>\n            {(this.selectedCheckboxes.has(label)) ?\n                <form onSubmit={this.handleFormSubmit}>\n                    <input type=\"number\" id={label} name=\"tentacles\" onChange={this.handleChange} min=\"1\" max=\"5\" value={this.labelToValue(label)}/>\n                    <input type=\"submit\" value=\"Valider\"/>\n                </form>\n\n                : null}\n        </>\n    )\n\n    createCheckboxes = () => (\n        this.state.items.map((label) =>\n            <div className=\"col-sm-3\">\n                {this.createCheckbox(label)}\n            </div>\n        )\n    )\n\n    render() {\n        return (\n            <section>\n                <header className=\"text-center\">\n                    <div className={StyleStrategy.header2}>\n                        Agriculteur : {this.props.x}\n                    </div>\n                </header>\n                <div className={StyleStrategy.header3}>\n                    <div className=\"row text-center\">\n                        {this.createCheckboxes()}\n                        {console.log('Activity of ' + this.props.x + ' are ' + this.getCultures())}\n                    </div>\n                </div>\n                {//console.log(this.state.values)}\n                /*<input type=\"checkbox\" name=\"choix1\" value=\"1\">glace vanille</input>\n                <label htmlFor=\"tentacles\">Number of tentacles (10-100):</label>\n                <input type=\"number\" id=\"tentacles\" name=\"tentacles\"\n                       min=\"10\" max=\"100\"/>*/}\n            </section>\n        )\n    }\n}\n\nexport default FarmerActivity;"]},"metadata":{},"sourceType":"module"}